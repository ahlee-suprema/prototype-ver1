<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>관리 - Suprema T&A</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'Noto Sans KR', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                        },
                        slate: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(100%)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
        }
        .nav-item {
            transition: all 0.2s ease;
        }
        .nav-item:hover {
            background: rgba(37, 99, 235, 0.1);
        }
        .nav-item.active {
            background: rgba(37, 99, 235, 0.15);
            border-right: 3px solid #2563eb;
        }
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        .modal-overlay {
            animation: fadeIn 0.2s ease-out;
        }
        .modal-content {
            animation: slideUp 0.3s ease-out;
        }
    </style>
</head>
<body class="bg-slate-50 antialiased">
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, createContext, useContext } = React;

        // Icons
        const Icons = {
            Home: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                </svg>
            ),
            Clock: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            ),
            Calendar: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
            ),
            Document: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
            ),
            Chart: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                </svg>
            ),
            Settings: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
            ),
            Bell: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                </svg>
            ),
            Users: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
            ),
            Plane: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                </svg>
            ),
Island: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M14 4c2-1 5-1 7 1-2 0-4 1-5 3m-2-4c-2-1-5-1-7 1 2 0 4 1 5 3" />
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M14 8c0 4-1 8-2 12" />
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 20c2-2 5-3 8-3s6 1 8 3" />
                </svg>
            ),
            Timer: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3" />
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 21a9 9 0 100-18 9 9 0 000 18z" />
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 1h6M12 1v2" />
                </svg>
            ),
            Briefcase: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
            ),
            Menu: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            ),
            Search: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
            ),
            Building: () => (
                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                </svg>
            ),
        };

        // Toast Context
        const ToastContext = createContext();
        const useToast = () => useContext(ToastContext);

        const ToastProvider = ({ children }) => {
            const [toasts, setToasts] = useState([]);

            const addToast = (message, type = 'success') => {
                const id = Date.now();
                setToasts(prev => [...prev, { id, message, type }]);
                setTimeout(() => setToasts(prev => prev.filter(t => t.id !== id)), 3000);
            };

            return (
                <ToastContext.Provider value={{ addToast }}>
                    {children}
                    <div className="fixed bottom-4 right-4 z-50 space-y-2">
                        {toasts.map(toast => (
                            <div key={toast.id} className={`toast px-4 py-3 rounded-xl shadow-lg flex items-center gap-3 ${
                                toast.type === 'success' ? 'bg-green-500 text-white' :
                                toast.type === 'error' ? 'bg-red-500 text-white' : 'bg-slate-800 text-white'
                            }`}>
                                {toast.type === 'success' && (
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
                                    </svg>
                                )}
                                {toast.message}
                            </div>
                        ))}
                    </div>
                </ToastContext.Provider>
            );
        };


        // Sidebar Component
        const Sidebar = ({ activeMenu, setActiveMenu, collapsed, setCollapsed }) => {
            const menuItems = [
                { id: 'home', icon: <Icons.Home />, label: '홈', page: 'index.html' },
                { id: 'dashboard', icon: <Icons.Home />, label: '대시보드', page: 'dashboard.html' },
                { id: 'attendance', icon: <Icons.Clock />, label: '출퇴근 기록', page: 'attendance-records.html' },
                { id: 'leave', icon: <Icons.Island />, label: '휴가', page: 'leave-management.html' },
                { id: 'requests', icon: <Icons.Document />, label: '요청', page: 'requests-management.html' },
                { id: 'reports', icon: <Icons.Chart />, label: '리포트', page: 'reports.html' },
                { id: 'schedule', icon: <Icons.Calendar />, label: '스케줄', page: 'schedule.html' },
                { id: 'team', icon: <Icons.Users />, label: '팀 관리', page: 'team-management.html' },
                { id: 'management', icon: <Icons.Building />, label: '관리', page: 'management.html' },
                { id: 'companySettings', icon: <Icons.Settings />, label: '회사 설정' },
                { id: 'settings', icon: <Icons.Settings />, label: '설정', page: 'settings.html' },
            ];

            return (
                <aside className={`fixed left-0 top-0 h-full bg-white border-r border-slate-200 transition-all duration-300 z-40 ${collapsed ? 'w-20' : 'w-64'}`}>
                    <div className="h-16 flex items-center justify-between px-4 border-b border-slate-100">
                        {!collapsed && (
                            <div className="flex items-center gap-3">
                                <div className="w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center">
                                    <span className="text-white font-bold text-sm">S</span>
                                </div>
                                <span className="font-bold text-slate-800">Suprema T&A</span>
                            </div>
                        )}
                        <button
                            onClick={() => setCollapsed(!collapsed)}
                            className="p-2 hover:bg-slate-100 rounded-lg transition-colors"
                        >
                            <Icons.Menu />
                        </button>
                    </div>

                    <nav className="p-3 space-y-1">
                        {menuItems.map((item) => (
                            <button
                                key={item.id}
                                onClick={() => {
                                    if (item.page) {
                                        window.location.href = item.page;
                                    } else {
                                        setActiveMenu(item.id);
                                    }
                                }}
                                className={`nav-item w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all ${
                                    activeMenu === item.id
                                        ? 'active bg-primary-50 text-primary-600'
                                        : 'text-slate-600 hover:text-slate-800'
                                }`}
                            >
                                <span className={activeMenu === item.id ? 'text-primary-600' : 'text-slate-400'}>
                                    {item.icon}
                                </span>
                                {!collapsed && <span className="font-medium flex-1">{item.label}</span>}
                            </button>
                        ))}
                    </nav>
                </aside>
            );
        };

        // Header Component
        const Header = ({ collapsed, viewMode, setViewMode }) => {
            const [unreadCount] = useState(2);

            return (
                <header className={`fixed top-0 right-0 h-16 bg-white/80 backdrop-blur-lg border-b border-slate-100 z-30 transition-all duration-300 ${collapsed ? 'left-20' : 'left-64'}`}>
                    <div className="h-full px-6 flex items-center justify-end">
                        <div className="flex items-center gap-4">
                            {/* View Mode Toggle */}
                            <div className="flex bg-slate-100 rounded-xl p-1">
                                <button
                                    onClick={() => setViewMode('employee')}
                                    className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${
                                        viewMode === 'employee'
                                            ? 'bg-white text-primary-600 shadow-sm'
                                            : 'text-slate-600 hover:text-slate-800'
                                    }`}
                                >
                                    직원
                                </button>
                                <button
                                    onClick={() => setViewMode('hr')}
                                    className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${
                                        viewMode === 'hr'
                                            ? 'bg-white text-primary-600 shadow-sm'
                                            : 'text-slate-600 hover:text-slate-800'
                                    }`}
                                >
                                    HR 관리자
                                </button>
                            </div>

                            {/* Notifications */}
                            <button className="relative p-2 hover:bg-slate-100 rounded-xl transition-colors">
                                <Icons.Bell />
                                {unreadCount > 0 && (
                                    <span className="absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center">
                                        {unreadCount}
                                    </span>
                                )}
                            </button>
                        </div>
                    </div>
                </header>
            );
        };

        // Empty State Component
        const EmptyState = ({ title, description, icon }) => (
            <div className="flex flex-col items-center justify-center py-16 px-4">
                <div className="w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center text-4xl mb-6">
                    {icon}
                </div>
                <h3 className="text-xl font-semibold text-slate-800 mb-2">{title}</h3>
                <p className="text-slate-500 text-center max-w-md mb-6">{description}</p>
                <div className="px-4 py-2 bg-blue-50 text-blue-600 rounded-lg text-sm font-medium">
                    🚧 개발 예정
                </div>
            </div>
        );

        // Add Employee Modal Component
        const AddEmployeeModal = ({ isOpen, onClose, onAdd }) => {
            const [formData, setFormData] = useState({
                employeeNumber: '',
                lastName: '',
                firstName: '',
                accessLevel: '직원',
                jobs: ['사원'],
                organizations: [],
                joinDate: '2026-01-30',
                resignDate: '',
                hasResignDate: false,
                inviteOption: 'none',
                memo: '',
                hasWorkInfo: false,
                hasAutoLeave: false,
                birthDate: '',
                position: '',
                education: ''
            });

            const handleChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const handleSubmit = () => {
                onAdd(formData);
                onClose();
            };

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 modal-overlay">
                    <div className="bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden modal-content">
                        {/* Header */}
                        <div className="flex items-center justify-between p-6 border-b border-slate-200">
                            <h2 className="text-xl font-semibold text-slate-800">직원 추가하기</h2>
                            <div className="flex items-center gap-2">
                                <button className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                                <button onClick={onClose} className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        {/* Body */}
                        <div className="p-6 overflow-y-auto max-h-[calc(90vh-140px)]">
                            <div className="grid grid-cols-2 gap-8">
                                {/* Left Column */}
                                <div className="space-y-6">
                                    {/* 직원 정보 Section */}
                                    <div>
                                        <div className="bg-slate-100 px-4 py-2 rounded-lg mb-4">
                                            <h3 className="font-medium text-slate-700">직원 정보</h3>
                                        </div>
                                        <div className="space-y-5">
                                            <div>
                                                <label className="block text-sm text-slate-600 mb-2">사원번호</label>
                                                <input
                                                    type="text"
                                                    value={formData.employeeNumber}
                                                    onChange={(e) => handleChange('employeeNumber', e.target.value)}
                                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                                />
                                            </div>
                                            <div className="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-sm text-slate-600 mb-2">성</label>
                                                    <input
                                                        type="text"
                                                        value={formData.lastName}
                                                        onChange={(e) => handleChange('lastName', e.target.value)}
                                                        className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm text-slate-600 mb-2">이름</label>
                                                    <input
                                                        type="text"
                                                        value={formData.firstName}
                                                        onChange={(e) => handleChange('firstName', e.target.value)}
                                                        className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                                    />
                                                </div>
                                            </div>
                                            <div>
                                                <label className="block text-sm text-slate-600 mb-2">
                                                    <span className="text-red-500">*</span>액세스 권한
                                                    <span className="ml-1 text-slate-400 cursor-help">ⓘ</span>
                                                </label>
                                                <select
                                                    value={formData.accessLevel}
                                                    onChange={(e) => handleChange('accessLevel', e.target.value)}
                                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                                >
                                                    <option value="직원">직원</option>
                                                    <option value="관리자">관리자</option>
                                                    <option value="최고관리자">최고관리자</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label className="block text-sm text-slate-600 mb-2">직무들</label>
                                                <select
                                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                                >
                                                    <option>1 선택됨</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label className="block text-sm text-slate-600 mb-2">조직들</label>
                                                <select
                                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                                >
                                                    <option>선택 가능한 옵션 없음</option>
                                                </select>
                                            </div>
                                            <div className="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label className="flex items-center gap-2 text-sm text-slate-600 mb-2">
                                                        <input type="checkbox" checked className="rounded" readOnly />
                                                        입사일
                                                    </label>
                                                    <div className="relative">
                                                        <input
                                                            type="text"
                                                            value="2026.01.30 (금)"
                                                            className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                                            readOnly
                                                        />
                                                        <span className="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400">📅</span>
                                                    </div>
                                                </div>
                                                <div>
                                                    <label className="flex items-center gap-2 text-sm text-slate-600 mb-2">
                                                        <input
                                                            type="checkbox"
                                                            checked={formData.hasResignDate}
                                                            onChange={(e) => handleChange('hasResignDate', e.target.checked)}
                                                            className="rounded"
                                                        />
                                                        퇴사일
                                                    </label>
                                                    <input
                                                        type="text"
                                                        value="N/A"
                                                        disabled
                                                        className="w-full px-3 py-2 border border-slate-300 rounded-lg bg-slate-50 text-slate-400"
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* 직원 합류 초대 Section */}
                                    <div>
                                        <div className="bg-slate-100 px-4 py-2 rounded-lg mb-4">
                                            <h3 className="font-medium text-slate-700">
                                                직원 합류 초대
                                                <span className="ml-1 text-slate-400 cursor-help">ⓘ</span>
                                            </h3>
                                        </div>
                                        <div className="flex items-center gap-6">
                                            <label className="flex items-center gap-2 text-sm text-slate-600">
                                                <input
                                                    type="radio"
                                                    name="inviteOption"
                                                    value="none"
                                                    checked={formData.inviteOption === 'none'}
                                                    onChange={(e) => handleChange('inviteOption', e.target.value)}
                                                    className="text-primary-500"
                                                />
                                                전송 안함
                                            </label>
                                            <label className="flex items-center gap-2 text-sm text-slate-600">
                                                <input
                                                    type="radio"
                                                    name="inviteOption"
                                                    value="immediate"
                                                    checked={formData.inviteOption === 'immediate'}
                                                    onChange={(e) => handleChange('inviteOption', e.target.value)}
                                                    className="text-primary-500"
                                                />
                                                즉시 전송
                                            </label>
                                            <label className="flex items-center gap-2 text-sm text-slate-600">
                                                <input
                                                    type="radio"
                                                    name="inviteOption"
                                                    value="scheduled"
                                                    checked={formData.inviteOption === 'scheduled'}
                                                    onChange={(e) => handleChange('inviteOption', e.target.value)}
                                                    className="text-primary-500"
                                                />
                                                예약 전송
                                            </label>
                                        </div>
                                    </div>

                                    {/* 메모 Section */}
                                    <div>
                                        <label className="block text-sm text-slate-600 mb-2">메모</label>
                                        <textarea
                                            value={formData.memo}
                                            onChange={(e) => handleChange('memo', e.target.value)}
                                            className="w-full h-32 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"
                                        />
                                    </div>
                                </div>

                                {/* Right Column */}
                                <div className="space-y-6">
                                    {/* 근로정보 Section */}
                                    <div>
                                        <div className="bg-slate-100 px-4 py-2 rounded-lg mb-4">
                                            <h3 className="font-medium text-slate-700">
                                                근로정보
                                                <span className="ml-1 text-slate-400 cursor-help">ⓘ</span>
                                            </h3>
                                        </div>
                                        <label className="flex items-center gap-2 text-sm text-slate-600">
                                            <input
                                                type="checkbox"
                                                checked={formData.hasWorkInfo}
                                                onChange={(e) => handleChange('hasWorkInfo', e.target.checked)}
                                                className="rounded"
                                            />
                                            근로 정보 입력
                                        </label>
                                    </div>

                                    {/* 휴가 발생 Section */}
                                    <div>
                                        <div className="bg-slate-100 px-4 py-2 rounded-lg mb-4">
                                            <h3 className="font-medium text-slate-700">
                                                휴가 발생
                                                <span className="ml-1 text-slate-400 cursor-help">ⓘ</span>
                                            </h3>
                                        </div>
                                        <label className="flex items-center gap-2 text-sm text-slate-600">
                                            <input
                                                type="checkbox"
                                                checked={formData.hasAutoLeave}
                                                onChange={(e) => handleChange('hasAutoLeave', e.target.checked)}
                                                className="rounded"
                                            />
                                            규칙 기반 휴가 자동 발생 입력
                                        </label>
                                    </div>

                                    {/* 직원 커스텀 필드 Section */}
                                    <div>
                                        <div className="bg-slate-100 px-4 py-2 rounded-lg mb-4">
                                            <h3 className="font-medium text-slate-700">직원 커스텀 필드</h3>
                                        </div>
                                        <div className="space-y-5">
                                            <div>
                                                <label className="block text-sm text-slate-600 mb-2">생년월일</label>
                                                <input
                                                    type="text"
                                                    value={formData.birthDate}
                                                    onChange={(e) => handleChange('birthDate', e.target.value)}
                                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm text-slate-600 mb-2">직급</label>
                                                <input
                                                    type="text"
                                                    value={formData.position}
                                                    onChange={(e) => handleChange('position', e.target.value)}
                                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm text-slate-600 mb-2">학력</label>
                                                <input
                                                    type="text"
                                                    value={formData.education}
                                                    onChange={(e) => handleChange('education', e.target.value)}
                                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="flex items-center justify-end gap-3 p-6 border-t border-slate-200">
                            <button
                                onClick={onClose}
                                className="px-6 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors"
                            >
                                닫기
                            </button>
                            <button
                                onClick={handleSubmit}
                                className="px-6 py-2 bg-slate-400 text-white rounded-lg hover:bg-slate-500 transition-colors"
                            >
                                추가하기
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // Employee Settings Component
        const EmployeeSettings = () => {
            const toast = useToast();
            const [showInactive, setShowInactive] = useState(false);
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [sortField, setSortField] = useState('accessLevel');
            const [sortDirection, setSortDirection] = useState('asc');
            const [selectedEmployees, setSelectedEmployees] = useState([]);
            const [filters, setFilters] = useState({});

            const [employees, setEmployees] = useState([
                {
                    id: 1,
                    employeeNumber: '',
                    name: '조혜연',
                    accessLevel: '최고관리자',
                    joinDate: '',
                    mainOrg: '',
                    organizations: '',
                    mainJob: '',
                    jobs: '사원',
                    workInfoName: '일반근무',
                    hourlyRate: '₩ 0',
                    standardWorkRule: '1주 40시간\n(2026-01-25)',
                    maxWorkRule: '1주 52시간\n(2026-01-25)',
                    applyDate: '2026-01-28',
                    joinStatus: 'O',
                    timezone: 'Asia/Seoul',
                    memo: ''
                }
            ]);

            const columns = [
                { id: 'employeeNumber', label: '사원번호', width: 'w-24' },
                { id: 'name', label: '이름', width: 'w-24' },
                { id: 'accessLevel', label: '액세스 권한', width: 'w-28', sortable: true },
                { id: 'joinDate', label: '입사일', width: 'w-24' },
                { id: 'mainOrg', label: '본조직', width: 'w-24' },
                { id: 'organizations', label: '조직들', width: 'w-24' },
                { id: 'mainJob', label: '본직무', width: 'w-24' },
                { id: 'jobs', label: '직무들', width: 'w-24' },
                { id: 'workInfoName', label: '근로정보명', width: 'w-24' },
                { id: 'hourlyRate', label: '시급', width: 'w-24' },
                { id: 'standardWorkRule', label: '소정근로규칙', width: 'w-28' },
                { id: 'maxWorkRule', label: '최대근로규칙', width: 'w-28' },
                { id: 'applyDate', label: '적용 시점', width: 'w-28' },
                { id: 'joinStatus', label: '합류 여부', width: 'w-24' },
                { id: 'timezone', label: '시간대', width: 'w-28' },
                { id: 'memo', label: '메모', width: 'w-24' }
            ];

            const handleSort = (field) => {
                if (sortField === field) {
                    setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');
                } else {
                    setSortField(field);
                    setSortDirection('asc');
                }
            };

            const handleSelectAll = (checked) => {
                if (checked) {
                    setSelectedEmployees(employees.map(e => e.id));
                } else {
                    setSelectedEmployees([]);
                }
            };

            const handleSelectEmployee = (id, checked) => {
                if (checked) {
                    setSelectedEmployees([...selectedEmployees, id]);
                } else {
                    setSelectedEmployees(selectedEmployees.filter(e => e !== id));
                }
            };

            const handleAddEmployee = (data) => {
                const newEmployee = {
                    id: employees.length + 1,
                    employeeNumber: data.employeeNumber,
                    name: `${data.lastName}${data.firstName}`,
                    accessLevel: data.accessLevel,
                    joinDate: data.joinDate,
                    mainOrg: '',
                    organizations: '',
                    mainJob: '',
                    jobs: '사원',
                    workInfoName: '',
                    hourlyRate: '₩ 0',
                    standardWorkRule: '',
                    maxWorkRule: '',
                    applyDate: '',
                    joinStatus: data.inviteOption === 'none' ? '' : 'O',
                    timezone: 'Asia/Seoul',
                    memo: data.memo
                };
                setEmployees([...employees, newEmployee]);
                toast.addToast('직원이 추가되었습니다.', 'success');
            };

            return (
                <div className="space-y-6">
                    {/* Header */}
                    <div className="flex items-start justify-between">
                        <div>
                            <div className="flex items-center gap-2 mb-2">
                                <h1 className="text-2xl font-bold text-slate-800">직원 관리</h1>
                                <button className="text-slate-400 hover:text-slate-600">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                            </div>
                            <p className="text-sm text-slate-500">
                                사원번호, 조직, 직무, 입사/퇴사일, 근로정보 등 다양한 인사정보를 관리하고, 합류코드를 통해 직원들을 초대할 수 있습니다.
                            </p>
                        </div>
                        <div className="flex items-center gap-2">
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors flex items-center gap-2">
                                다운로드
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors flex items-center gap-2">
                                업로드
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <button
                                onClick={() => setIsModalOpen(true)}
                                className="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2"
                            >
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                </svg>
                                직원 추가하기
                            </button>
                        </div>
                    </div>

                    {/* Toggle */}
                    <div className="flex items-center gap-2">
                        <span className="text-sm text-slate-600">비활성화된 직원들 보기</span>
                        <button
                            onClick={() => setShowInactive(!showInactive)}
                            className={`relative w-10 h-6 rounded-full transition-colors ${showInactive ? 'bg-primary-500' : 'bg-slate-300'}`}
                        >
                            <div className={`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${showInactive ? 'left-5' : 'left-1'}`} />
                        </button>
                    </div>

                    {/* Employee Count */}
                    <div className="flex items-center gap-2 text-slate-600">
                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                        </svg>
                        <span className="font-medium">총 직원수</span>
                        <span className="text-primary-600 font-semibold">{employees.length}</span>
                    </div>

                    {/* Table */}
                    <div className="bg-white rounded-xl border border-slate-200 overflow-hidden">
                        <div className="overflow-x-auto">
                            <table className="w-full min-w-[1800px]">
                                <thead>
                                    <tr className="border-b border-slate-200">
                                        <th className="w-10 px-4 py-3">
                                            <input
                                                type="checkbox"
                                                checked={selectedEmployees.length === employees.length && employees.length > 0}
                                                onChange={(e) => handleSelectAll(e.target.checked)}
                                                className="rounded border-slate-300"
                                            />
                                        </th>
                                        {columns.map((col) => (
                                            <th key={col.id} className={`px-2 py-3 ${col.width}`}>
                                                <div className="space-y-1">
                                                    <input
                                                        type="text"
                                                        placeholder="검색.."
                                                        className="w-full px-2 py-1 text-xs border border-slate-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500"
                                                        onChange={(e) => setFilters({ ...filters, [col.id]: e.target.value })}
                                                    />
                                                    <button
                                                        onClick={() => col.sortable && handleSort(col.id)}
                                                        className={`text-xs font-medium text-left flex items-center gap-1 ${
                                                            col.sortable ? 'text-primary-600 hover:text-primary-700 cursor-pointer' : 'text-slate-600'
                                                        }`}
                                                    >
                                                        {col.label}
                                                        {col.sortable && sortField === col.id && (
                                                            <svg className={`w-3 h-3 ${sortDirection === 'desc' ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 15l7-7 7 7" />
                                                            </svg>
                                                        )}
                                                    </button>
                                                </div>
                                            </th>
                                        ))}
                                    </tr>
                                </thead>
                                <tbody>
                                    {employees.map((employee) => (
                                        <tr key={employee.id} className="border-b border-slate-100 hover:bg-slate-50">
                                            <td className="px-4 py-3">
                                                <input
                                                    type="checkbox"
                                                    checked={selectedEmployees.includes(employee.id)}
                                                    onChange={(e) => handleSelectEmployee(employee.id, e.target.checked)}
                                                    className="rounded border-slate-300"
                                                />
                                            </td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.employeeNumber}</td>
                                            <td className="px-2 py-3 text-sm font-medium text-slate-800">{employee.name}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.accessLevel}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.joinDate}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.mainOrg}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.organizations}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.mainJob}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.jobs}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.workInfoName}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.hourlyRate}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600 whitespace-pre-line">{employee.standardWorkRule}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600 whitespace-pre-line">{employee.maxWorkRule}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.applyDate}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.joinStatus}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.timezone}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{employee.memo}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    {/* Add Employee Modal */}
                    <AddEmployeeModal
                        isOpen={isModalOpen}
                        onClose={() => setIsModalOpen(false)}
                        onAdd={handleAddEmployee}
                    />
                </div>
            );
        };

        // Add Organization Modal Component
        const AddOrganizationModal = ({ isOpen, onClose, onAdd }) => {
            const [formData, setFormData] = useState({
                name: '',
                parentOrg: '',
                locations: [],
                memo: ''
            });

            const handleChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const handleSubmit = () => {
                onAdd(formData);
                setFormData({ name: '', parentOrg: '', locations: [], memo: '' });
                onClose();
            };

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 modal-overlay">
                    <div className="bg-white rounded-2xl w-full max-w-lg overflow-hidden modal-content">
                        {/* Header */}
                        <div className="flex items-center justify-between p-6 border-b border-slate-200">
                            <h2 className="text-xl font-semibold text-slate-800">조직 추가하기</h2>
                            <div className="flex items-center gap-2">
                                <button className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                                <button onClick={onClose} className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        {/* Body */}
                        <div className="p-6 space-y-5">
                            <div>
                                <label className="block text-sm text-slate-600 mb-2">조직명</label>
                                <input
                                    type="text"
                                    value={formData.name}
                                    onChange={(e) => handleChange('name', e.target.value)}
                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                />
                            </div>
                            <div>
                                <label className="block text-sm text-slate-600 mb-2">상위 조직</label>
                                <select
                                    value={formData.parentOrg}
                                    onChange={(e) => handleChange('parentOrg', e.target.value)}
                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                >
                                    <option value="">조직없음</option>
                                </select>
                            </div>
                            <div>
                                <label className="block text-sm text-slate-600 mb-2">출퇴근 장소들</label>
                                <select
                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                >
                                    <option>선택 가능한 옵션 없음</option>
                                </select>
                            </div>
                            <div>
                                <label className="block text-sm text-slate-600 mb-2">메모</label>
                                <textarea
                                    value={formData.memo}
                                    onChange={(e) => handleChange('memo', e.target.value)}
                                    placeholder="메모 입력"
                                    className="w-full h-32 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"
                                />
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="flex items-center justify-end gap-3 p-6 border-t border-slate-200">
                            <button
                                onClick={onClose}
                                className="px-6 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors"
                            >
                                닫기
                            </button>
                            <button
                                onClick={handleSubmit}
                                className="px-6 py-2 bg-slate-400 text-white rounded-lg hover:bg-slate-500 transition-colors"
                            >
                                추가하기
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // Organization Settings Component
        const OrganizationSettings = () => {
            const toast = useToast();
            const [showInactive, setShowInactive] = useState(false);
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [selectedOrgs, setSelectedOrgs] = useState([]);
            const [filters, setFilters] = useState({});

            const [organizations, setOrganizations] = useState([]);

            const columns = [
                { id: 'name', label: '조직명', width: 'flex-1' },
                { id: 'locations', label: '출퇴근 장소들', width: 'flex-1' },
                { id: 'memo', label: '메모', width: 'w-48' }
            ];

            const handleSelectAll = (checked) => {
                if (checked) {
                    setSelectedOrgs(organizations.map(o => o.id));
                } else {
                    setSelectedOrgs([]);
                }
            };

            const handleSelectOrg = (id, checked) => {
                if (checked) {
                    setSelectedOrgs([...selectedOrgs, id]);
                } else {
                    setSelectedOrgs(selectedOrgs.filter(o => o !== id));
                }
            };

            const handleAddOrganization = (data) => {
                const newOrg = {
                    id: organizations.length + 1,
                    name: data.name,
                    locations: '',
                    memo: data.memo
                };
                setOrganizations([...organizations, newOrg]);
                toast.addToast('조직이 추가되었습니다.', 'success');
            };

            return (
                <div className="space-y-6">
                    {/* Header */}
                    <div className="flex items-start justify-between">
                        <div>
                            <div className="flex items-center gap-2 mb-2">
                                <h1 className="text-2xl font-bold text-slate-800">조직 관리</h1>
                                <button className="text-slate-400 hover:text-slate-600">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                            </div>
                            <p className="text-sm text-slate-500">
                                회사의 다양한 팀, 조직, 지점을 반영할 수 있으며, 복잡한 조직 구조는 조직도 기능을 통해 관리할 수 있습니다.
                            </p>
                        </div>
                        <div className="flex items-center gap-2">
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                다운로드
                            </button>
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors flex items-center gap-2">
                                업로드
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                            <button
                                onClick={() => setIsModalOpen(true)}
                                className="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2"
                            >
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                </svg>
                                조직 추가하기
                            </button>
                        </div>
                    </div>

                    {/* Toggle */}
                    <div className="flex items-center gap-2">
                        <span className="text-sm text-slate-600">비활성화된 조직들 보기</span>
                        <button
                            onClick={() => setShowInactive(!showInactive)}
                            className={`relative w-10 h-6 rounded-full transition-colors ${showInactive ? 'bg-primary-500' : 'bg-slate-300'}`}
                        >
                            <div className={`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${showInactive ? 'left-5' : 'left-1'}`} />
                        </button>
                    </div>

                    {/* Table */}
                    <div className="bg-white rounded-xl border border-slate-200 overflow-hidden">
                        <table className="w-full">
                            <thead>
                                <tr className="border-b border-slate-200">
                                    <th className="w-10 px-4 py-3">
                                        <input
                                            type="checkbox"
                                            checked={selectedOrgs.length === organizations.length && organizations.length > 0}
                                            onChange={(e) => handleSelectAll(e.target.checked)}
                                            className="rounded border-slate-300"
                                        />
                                    </th>
                                    {columns.map((col) => (
                                        <th key={col.id} className={`px-4 py-3 ${col.width}`}>
                                            <div className="space-y-1">
                                                <input
                                                    type="text"
                                                    placeholder="검색.."
                                                    className="w-full max-w-xs px-2 py-1 text-xs border border-slate-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500"
                                                    onChange={(e) => setFilters({ ...filters, [col.id]: e.target.value })}
                                                />
                                                <div className="text-xs font-medium text-slate-600 text-left">
                                                    {col.label}
                                                </div>
                                            </div>
                                        </th>
                                    ))}
                                </tr>
                            </thead>
                            <tbody>
                                {organizations.length === 0 ? (
                                    <tr>
                                        <td colSpan={4} className="px-4 py-12 text-center text-slate-400">
                                            등록된 조직이 없습니다.
                                        </td>
                                    </tr>
                                ) : (
                                    organizations.map((org) => (
                                        <tr key={org.id} className="border-b border-slate-100 hover:bg-slate-50">
                                            <td className="px-4 py-3">
                                                <input
                                                    type="checkbox"
                                                    checked={selectedOrgs.includes(org.id)}
                                                    onChange={(e) => handleSelectOrg(org.id, e.target.checked)}
                                                    className="rounded border-slate-300"
                                                />
                                            </td>
                                            <td className="px-4 py-3 text-sm font-medium text-slate-800">{org.name}</td>
                                            <td className="px-4 py-3 text-sm text-slate-600">{org.locations}</td>
                                            <td className="px-4 py-3 text-sm text-slate-600">{org.memo}</td>
                                        </tr>
                                    ))
                                )}
                            </tbody>
                        </table>
                    </div>

                    {/* Add Organization Modal */}
                    <AddOrganizationModal
                        isOpen={isModalOpen}
                        onClose={() => setIsModalOpen(false)}
                        onAdd={handleAddOrganization}
                    />
                </div>
            );
        };

        // Add Location Modal Component
        const AddLocationModal = ({ isOpen, onClose, onAdd }) => {
            const [formData, setFormData] = useState({
                name: '',
                address: '',
                useCoordinates: true,
                useWifi: false,
                coordinates: '37.56650, 126.97810',
                radius: '150',
                memo: ''
            });

            const handleChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const handleSubmit = () => {
                onAdd(formData);
                setFormData({
                    name: '',
                    address: '',
                    useCoordinates: true,
                    useWifi: false,
                    coordinates: '37.56650, 126.97810',
                    radius: '150',
                    memo: ''
                });
                onClose();
            };

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 modal-overlay">
                    <div className="bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden modal-content">
                        {/* Header */}
                        <div className="flex items-center justify-between p-6 border-b border-slate-200">
                            <h2 className="text-xl font-semibold text-slate-800">출퇴근 장소 추가하기</h2>
                            <div className="flex items-center gap-2">
                                <button className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                                <button onClick={onClose} className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        {/* Body */}
                        <div className="p-6 overflow-y-auto max-h-[calc(90vh-140px)] space-y-5">
                            <div>
                                <label className="block text-sm text-slate-600 mb-2">출퇴근 장소명</label>
                                <input
                                    type="text"
                                    value={formData.name}
                                    onChange={(e) => handleChange('name', e.target.value)}
                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                />
                            </div>

                            <div>
                                <label className="block text-sm text-slate-600 mb-2">근무지 주소</label>
                                <div className="flex gap-2">
                                    <div className="flex items-center gap-1 px-3 py-2 border border-slate-300 rounded-lg bg-white">
                                        <span className="text-lg">🇰🇷</span>
                                        <svg className="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                        </svg>
                                    </div>
                                    <input
                                        type="text"
                                        value={formData.address}
                                        onChange={(e) => handleChange('address', e.target.value)}
                                        placeholder="주소 입력"
                                        className="flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                    />
                                    <button className="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors">
                                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <div>
                                <label className="flex items-center gap-1 text-sm text-slate-600 mb-2">
                                    출퇴근 수단
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>
                                <div className="flex items-center gap-6">
                                    <label className="flex items-center gap-2 text-sm text-slate-600">
                                        <input
                                            type="checkbox"
                                            checked={formData.useCoordinates}
                                            onChange={(e) => handleChange('useCoordinates', e.target.checked)}
                                            className="rounded border-slate-300 text-primary-600"
                                        />
                                        좌표
                                    </label>
                                    <label className="flex items-center gap-2 text-sm text-slate-600">
                                        <input
                                            type="checkbox"
                                            checked={formData.useWifi}
                                            onChange={(e) => handleChange('useWifi', e.target.checked)}
                                            className="rounded border-slate-300 text-primary-600"
                                        />
                                        WiFi
                                    </label>
                                </div>
                            </div>

                            {formData.useCoordinates && (
                                <div className="border border-slate-200 rounded-xl p-4 space-y-4">
                                    <div className="flex items-center gap-4">
                                        <label className="text-sm text-slate-600 w-24">좌표</label>
                                        <span className="text-sm text-slate-800">({formData.coordinates})</span>
                                        <span className="text-slate-400 cursor-help">ⓘ</span>
                                    </div>
                                    <div className="flex items-center gap-4">
                                        <label className="text-sm text-slate-600 w-24">좌표 반경(m)</label>
                                        <input
                                            type="number"
                                            value={formData.radius}
                                            onChange={(e) => handleChange('radius', e.target.value)}
                                            className="w-24 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                        />
                                    </div>
                                    {/* Map Placeholder */}
                                    <div className="relative w-full h-64 bg-slate-100 rounded-lg overflow-hidden">
                                        <div className="absolute inset-0 flex items-center justify-center">
                                            <div className="text-center">
                                                <svg className="w-12 h-12 text-primary-500 mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                                                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                                                </svg>
                                                <p className="text-sm text-slate-500">지도 영역</p>
                                                <p className="text-xs text-slate-400">서울특별시청</p>
                                            </div>
                                        </div>
                                        {/* Zoom controls */}
                                        <div className="absolute right-3 top-1/2 -translate-y-1/2 flex flex-col gap-1">
                                            <button className="w-8 h-8 bg-white rounded shadow flex items-center justify-center text-slate-600 hover:bg-slate-50">+</button>
                                            <div className="w-8 h-24 bg-white rounded shadow flex items-center justify-center">
                                                <div className="w-1 h-16 bg-slate-200 rounded relative">
                                                    <div className="absolute top-1/3 left-1/2 -translate-x-1/2 w-3 h-3 bg-primary-500 rounded-full"></div>
                                                </div>
                                            </div>
                                            <button className="w-8 h-8 bg-white rounded shadow flex items-center justify-center text-slate-600 hover:bg-slate-50">−</button>
                                        </div>
                                    </div>
                                    <p className="text-xs text-slate-500">* 지도 내 마커를 움직여 정확한 근무지의 좌표를 설정하세요.</p>
                                </div>
                            )}

                            <div>
                                <label className="block text-sm text-slate-600 mb-2">메모</label>
                                <textarea
                                    value={formData.memo}
                                    onChange={(e) => handleChange('memo', e.target.value)}
                                    placeholder="메모 입력"
                                    className="w-full h-24 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"
                                />
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="flex items-center justify-end gap-3 p-6 border-t border-slate-200">
                            <button
                                onClick={onClose}
                                className="px-6 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors"
                            >
                                취소
                            </button>
                            <button
                                onClick={handleSubmit}
                                className="px-6 py-2 bg-slate-400 text-white rounded-lg hover:bg-slate-500 transition-colors"
                            >
                                추가하기
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // Location Settings Component
        const LocationSettings = () => {
            const toast = useToast();
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [selectedLocations, setSelectedLocations] = useState([]);
            const [filters, setFilters] = useState({});
            const [sortField, setSortField] = useState('name');
            const [sortDirection, setSortDirection] = useState('asc');

            const [locations, setLocations] = useState([]);

            const columns = [
                { id: 'name', label: '출퇴근 장소', width: 'w-1/5', sortable: true },
                { id: 'address', label: '근무지 주소', width: 'w-1/4' },
                { id: 'coordinates', label: '좌표', width: 'w-1/5' },
                { id: 'wifi', label: 'WiFi', width: 'w-1/6' },
                { id: 'memo', label: '메모', width: 'w-1/6' }
            ];

            const handleSort = (field) => {
                if (sortField === field) {
                    setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');
                } else {
                    setSortField(field);
                    setSortDirection('asc');
                }
            };

            const handleSelectAll = (checked) => {
                if (checked) {
                    setSelectedLocations(locations.map(l => l.id));
                } else {
                    setSelectedLocations([]);
                }
            };

            const handleSelectLocation = (id, checked) => {
                if (checked) {
                    setSelectedLocations([...selectedLocations, id]);
                } else {
                    setSelectedLocations(selectedLocations.filter(l => l !== id));
                }
            };

            const handleAddLocation = (data) => {
                const newLocation = {
                    id: locations.length + 1,
                    name: data.name,
                    address: data.address,
                    coordinates: data.useCoordinates ? `(${data.coordinates})` : '',
                    wifi: data.useWifi ? 'O' : '',
                    memo: data.memo
                };
                setLocations([...locations, newLocation]);
                toast.addToast('출퇴근 장소가 추가되었습니다.', 'success');
            };

            return (
                <div className="space-y-6">
                    {/* Header */}
                    <div className="flex items-start justify-between">
                        <div>
                            <div className="flex items-center gap-2 mb-2">
                                <h1 className="text-2xl font-bold text-slate-800">출퇴근 장소 관리</h1>
                                <button className="text-slate-400 hover:text-slate-600">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                            </div>
                            <p className="text-sm text-slate-500">
                                출퇴근 인증 수단으로 좌표와 WiFi를 설정할 수 있습니다. 설정한 출퇴근 장소는 [관리 {'>'} 조직]에서 각 조직별로 배정할 수 있습니다.
                            </p>
                        </div>
                        <div className="flex items-center gap-2">
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                다운로드
                            </button>
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                업로드
                            </button>
                            <button
                                onClick={() => setIsModalOpen(true)}
                                className="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2"
                            >
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                </svg>
                                출퇴근 장소 추가하기
                            </button>
                        </div>
                    </div>

                    {/* Table */}
                    <div className="bg-white rounded-xl border border-slate-200 overflow-hidden">
                        <table className="w-full">
                            <thead>
                                <tr className="border-b border-slate-200">
                                    <th className="w-10 px-4 py-3">
                                        <input
                                            type="checkbox"
                                            checked={selectedLocations.length === locations.length && locations.length > 0}
                                            onChange={(e) => handleSelectAll(e.target.checked)}
                                            className="rounded border-slate-300"
                                        />
                                    </th>
                                    {columns.map((col) => (
                                        <th key={col.id} className={`px-4 py-3 ${col.width}`}>
                                            <div className="space-y-1">
                                                <input
                                                    type="text"
                                                    placeholder="검색.."
                                                    className="w-full max-w-xs px-2 py-1 text-xs border border-slate-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500"
                                                    onChange={(e) => setFilters({ ...filters, [col.id]: e.target.value })}
                                                />
                                                <button
                                                    onClick={() => col.sortable && handleSort(col.id)}
                                                    className={`text-xs font-medium text-left flex items-center gap-1 ${
                                                        col.sortable ? 'text-primary-600 hover:text-primary-700 cursor-pointer' : 'text-slate-600'
                                                    }`}
                                                >
                                                    {col.label}
                                                    {col.sortable && sortField === col.id && (
                                                        <svg className={`w-3 h-3 ${sortDirection === 'desc' ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 15l7-7 7 7" />
                                                        </svg>
                                                    )}
                                                </button>
                                            </div>
                                        </th>
                                    ))}
                                </tr>
                            </thead>
                            <tbody>
                                {locations.length === 0 ? (
                                    <tr>
                                        <td colSpan={6} className="px-4 py-12 text-center text-slate-400">
                                            등록된 출퇴근 장소가 없습니다.
                                        </td>
                                    </tr>
                                ) : (
                                    locations.map((location) => (
                                        <tr key={location.id} className="border-b border-slate-100 hover:bg-slate-50">
                                            <td className="px-4 py-3">
                                                <input
                                                    type="checkbox"
                                                    checked={selectedLocations.includes(location.id)}
                                                    onChange={(e) => handleSelectLocation(location.id, e.target.checked)}
                                                    className="rounded border-slate-300"
                                                />
                                            </td>
                                            <td className="px-4 py-3 text-sm font-medium text-slate-800">{location.name}</td>
                                            <td className="px-4 py-3 text-sm text-slate-600">{location.address}</td>
                                            <td className="px-4 py-3 text-sm text-slate-600">{location.coordinates}</td>
                                            <td className="px-4 py-3 text-sm text-slate-600">{location.wifi}</td>
                                            <td className="px-4 py-3 text-sm text-slate-600">{location.memo}</td>
                                        </tr>
                                    ))
                                )}
                            </tbody>
                        </table>
                    </div>

                    {/* Add Location Modal */}
                    <AddLocationModal
                        isOpen={isModalOpen}
                        onClose={() => setIsModalOpen(false)}
                        onAdd={handleAddLocation}
                    />
                </div>
            );
        };

        // Add Position Modal Component
        const AddPositionModal = ({ isOpen, onClose, onAdd }) => {
            const colors = [
                '#8B4513', '#D2691E', '#CD853F', '#DEB887', '#F4A460',
                '#E74C3C', '#E91E63', '#9C27B0', '#673AB7', '#3F51B5',
                '#2196F3', '#03A9F4', '#00BCD4', '#009688', '#4CAF50',
                '#8BC34A', '#CDDC39', '#FFEB3B', '#FFC107', '#FF9800',
                '#607D8B', '#9E9E9E', '#795548', '#000000', '#FFFFFF'
            ];

            const [formData, setFormData] = useState({
                name: '',
                color: '#8B4513',
                memo: ''
            });
            const [showColorPicker, setShowColorPicker] = useState(false);

            const handleChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const handleSubmit = () => {
                onAdd(formData);
                setFormData({ name: '', color: '#8B4513', memo: '' });
                onClose();
            };

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 modal-overlay">
                    <div className="bg-white rounded-2xl w-full max-w-lg overflow-hidden modal-content">
                        {/* Header */}
                        <div className="flex items-center justify-between p-6 border-b border-slate-200">
                            <h2 className="text-xl font-semibold text-slate-800">직무 추가하기</h2>
                            <div className="flex items-center gap-2">
                                <button className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                                <button onClick={onClose} className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        {/* Body */}
                        <div className="p-6 space-y-5">
                            <div>
                                <label className="block text-sm text-slate-600 mb-2">직무명</label>
                                <input
                                    type="text"
                                    value={formData.name}
                                    onChange={(e) => handleChange('name', e.target.value)}
                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                />
                            </div>

                            <div>
                                <label className="flex items-center gap-1 text-sm text-slate-600 mb-2">
                                    색깔
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>
                                <div className="relative">
                                    <button
                                        type="button"
                                        onClick={() => setShowColorPicker(!showColorPicker)}
                                        className="flex items-center gap-2 px-3 py-2 border border-slate-300 rounded-lg hover:bg-slate-50"
                                    >
                                        <div
                                            className="w-6 h-6 rounded border border-slate-300"
                                            style={{ backgroundColor: formData.color }}
                                        />
                                        <svg className="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                        </svg>
                                    </button>
                                    {showColorPicker && (
                                        <div className="absolute top-full left-0 mt-1 p-2 bg-white border border-slate-200 rounded-lg shadow-lg z-10">
                                            <div className="grid grid-cols-5 gap-1">
                                                {colors.map((color) => (
                                                    <button
                                                        key={color}
                                                        type="button"
                                                        onClick={() => {
                                                            handleChange('color', color);
                                                            setShowColorPicker(false);
                                                        }}
                                                        className={`w-6 h-6 rounded border ${formData.color === color ? 'ring-2 ring-primary-500' : 'border-slate-300'}`}
                                                        style={{ backgroundColor: color }}
                                                    />
                                                ))}
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm text-slate-600 mb-2">메모</label>
                                <textarea
                                    value={formData.memo}
                                    onChange={(e) => handleChange('memo', e.target.value)}
                                    className="w-full h-32 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"
                                />
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="flex items-center justify-end gap-3 p-6 border-t border-slate-200">
                            <button
                                onClick={onClose}
                                className="px-6 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors"
                            >
                                닫기
                            </button>
                            <button
                                onClick={handleSubmit}
                                className="px-6 py-2 bg-slate-400 text-white rounded-lg hover:bg-slate-500 transition-colors"
                            >
                                추가하기
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // Position Settings Component
        const PositionSettings = () => {
            const toast = useToast();
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [selectedPositions, setSelectedPositions] = useState([]);
            const [filters, setFilters] = useState({});
            const [sortField, setSortField] = useState('name');
            const [sortDirection, setSortDirection] = useState('asc');

            const [positions, setPositions] = useState([
                {
                    id: 1,
                    name: '사원',
                    color: '#9E9E9E',
                    memo: ''
                }
            ]);

            const columns = [
                { id: 'name', label: '직무명', width: 'w-2/5', sortable: true },
                { id: 'color', label: '색깔', width: 'w-1/4' },
                { id: 'memo', label: '메모', width: 'w-1/3' }
            ];

            const handleSort = (field) => {
                if (sortField === field) {
                    setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');
                } else {
                    setSortField(field);
                    setSortDirection('asc');
                }
            };

            const handleSelectAll = (checked) => {
                if (checked) {
                    setSelectedPositions(positions.map(p => p.id));
                } else {
                    setSelectedPositions([]);
                }
            };

            const handleSelectPosition = (id, checked) => {
                if (checked) {
                    setSelectedPositions([...selectedPositions, id]);
                } else {
                    setSelectedPositions(selectedPositions.filter(p => p !== id));
                }
            };

            const handleAddPosition = (data) => {
                const newPosition = {
                    id: positions.length + 1,
                    name: data.name,
                    color: data.color,
                    memo: data.memo
                };
                setPositions([...positions, newPosition]);
                toast.addToast('직무가 추가되었습니다.', 'success');
            };

            return (
                <div className="space-y-6">
                    {/* Header */}
                    <div className="flex items-start justify-between">
                        <div>
                            <div className="flex items-center gap-2 mb-2">
                                <h1 className="text-2xl font-bold text-slate-800">직무 관리</h1>
                                <button className="text-slate-400 hover:text-slate-600">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                            </div>
                            <p className="text-sm text-slate-500">
                                회사의 직위와 직책을 반영하는 직무를 관리할 수 있습니다.
                            </p>
                        </div>
                        <div className="flex items-center gap-2">
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                다운로드
                            </button>
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                업로드
                            </button>
                            <button
                                onClick={() => setIsModalOpen(true)}
                                className="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2"
                            >
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                </svg>
                                직무 추가하기
                            </button>
                        </div>
                    </div>

                    {/* Table */}
                    <div className="bg-white rounded-xl border border-slate-200 overflow-hidden">
                        <table className="w-full">
                            <thead>
                                <tr className="border-b border-slate-200">
                                    <th className="w-10 px-4 py-3">
                                        <input
                                            type="checkbox"
                                            checked={selectedPositions.length === positions.length && positions.length > 0}
                                            onChange={(e) => handleSelectAll(e.target.checked)}
                                            className="rounded border-slate-300"
                                        />
                                    </th>
                                    {columns.map((col) => (
                                        <th key={col.id} className={`px-4 py-3 ${col.width}`}>
                                            <div className="space-y-1">
                                                <input
                                                    type="text"
                                                    placeholder="검색.."
                                                    className="w-full max-w-xs px-2 py-1 text-xs border border-slate-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500"
                                                    onChange={(e) => setFilters({ ...filters, [col.id]: e.target.value })}
                                                />
                                                <button
                                                    onClick={() => col.sortable && handleSort(col.id)}
                                                    className={`text-xs font-medium text-left flex items-center gap-1 ${
                                                        col.sortable ? 'text-primary-600 hover:text-primary-700 cursor-pointer' : 'text-slate-600'
                                                    }`}
                                                >
                                                    {col.label}
                                                    {col.sortable && sortField === col.id && (
                                                        <svg className={`w-3 h-3 ${sortDirection === 'desc' ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 15l7-7 7 7" />
                                                        </svg>
                                                    )}
                                                </button>
                                            </div>
                                        </th>
                                    ))}
                                </tr>
                            </thead>
                            <tbody>
                                {positions.map((position) => (
                                    <tr key={position.id} className="border-b border-slate-100 hover:bg-slate-50">
                                        <td className="px-4 py-3">
                                            <input
                                                type="checkbox"
                                                checked={selectedPositions.includes(position.id)}
                                                onChange={(e) => handleSelectPosition(position.id, e.target.checked)}
                                                className="rounded border-slate-300"
                                            />
                                        </td>
                                        <td className="px-4 py-3 text-sm font-medium text-slate-800">{position.name}</td>
                                        <td className="px-4 py-3">
                                            <div
                                                className="w-8 h-5 rounded"
                                                style={{ backgroundColor: position.color }}
                                            />
                                        </td>
                                        <td className="px-4 py-3 text-sm text-slate-600">{position.memo}</td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>

                    {/* Add Position Modal */}
                    <AddPositionModal
                        isOpen={isModalOpen}
                        onClose={() => setIsModalOpen(false)}
                        onAdd={handleAddPosition}
                    />
                </div>
            );
        };

        // Add Work Info Modal Component
        const AddWorkInfoModal = ({ isOpen, onClose, onAdd }) => {
            const [activeTab, setActiveTab] = useState('basic');
            const [formData, setFormData] = useState({
                name: '',
                hourlyRate: '0',
                workDays: '월, 화, 수, 목, 금',
                weeklyHoliday: '일',
                memo: '',
                useStandardRule: true,
                standardPeriod: '1주',
                standardHours: '40',
                minOvertimePeriod: '1주',
                minOvertimeHours: '0',
                maxOvertimePeriod: '1주',
                maxOvertimeHours: '12',
                standardUnitValue: '1',
                standardUnitType: '개월',
                standardIncludeHoliday: false,
                useMaxRule: true,
                maxPeriod: '1주',
                maxHours: '52',
                maxUnitValue: '1',
                maxUnitType: '개월',
                maxIncludeHoliday: true
            });

            const handleChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const handleSubmit = () => {
                onAdd(formData);
                onClose();
            };

            const tabs = [
                { id: 'basic', label: '기본 정보' },
                { id: 'standard', label: '소정근로규칙', hasInfo: true },
                { id: 'max', label: '최대근로규칙', hasInfo: true }
            ];

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 modal-overlay">
                    <div className="bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden modal-content">
                        {/* Header */}
                        <div className="flex items-center justify-between p-6 border-b border-slate-200">
                            <h2 className="text-xl font-semibold text-slate-800">근로정보 추가하기</h2>
                            <div className="flex items-center gap-2">
                                <button className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                                <button onClick={onClose} className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        {/* Tabs */}
                        <div className="border-b border-slate-200">
                            <div className="flex">
                                {tabs.map((tab) => (
                                    <button
                                        key={tab.id}
                                        onClick={() => setActiveTab(tab.id)}
                                        className={`px-6 py-3 text-sm font-medium border-b-2 transition-all flex items-center gap-1 ${
                                            activeTab === tab.id
                                                ? 'text-primary-600 border-primary-600'
                                                : 'text-slate-600 border-transparent hover:text-slate-800'
                                        }`}
                                    >
                                        {tab.label}
                                        {tab.hasInfo && <span className="text-slate-400 cursor-help">ⓘ</span>}
                                    </button>
                                ))}
                            </div>
                        </div>

                        {/* Body */}
                        <div className="p-6 overflow-y-auto max-h-[calc(90vh-220px)]">
                            {activeTab === 'basic' && (
                                <div className="space-y-5">
                                    <div>
                                        <label className="block text-sm text-slate-600 mb-2">근로정보명</label>
                                        <input
                                            type="text"
                                            value={formData.name}
                                            onChange={(e) => handleChange('name', e.target.value)}
                                            className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                        />
                                    </div>
                                    <div>
                                        <label className="flex items-center gap-1 text-sm text-slate-600 mb-2">
                                            시급 (₩)
                                            <span className="text-slate-400 cursor-help">ⓘ</span>
                                        </label>
                                        <input
                                            type="number"
                                            value={formData.hourlyRate}
                                            onChange={(e) => handleChange('hourlyRate', e.target.value)}
                                            className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                        />
                                    </div>
                                    <div>
                                        <label className="flex items-center gap-1 text-sm text-slate-600 mb-2">
                                            소정근로요일
                                            <span className="text-slate-400 cursor-help">ⓘ</span>
                                        </label>
                                        <select
                                            value={formData.workDays}
                                            onChange={(e) => handleChange('workDays', e.target.value)}
                                            className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                        >
                                            <option value="월, 화, 수, 목, 금">월, 화, 수, 목, 금</option>
                                            <option value="월, 화, 수, 목, 금, 토">월, 화, 수, 목, 금, 토</option>
                                            <option value="월, 화, 수, 목">월, 화, 수, 목</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label className="flex items-center gap-1 text-sm text-slate-600 mb-2">
                                            주휴요일
                                            <span className="text-slate-400 cursor-help">ⓘ</span>
                                        </label>
                                        <select
                                            value={formData.weeklyHoliday}
                                            onChange={(e) => handleChange('weeklyHoliday', e.target.value)}
                                            className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                        >
                                            <option value="일">일</option>
                                            <option value="토">토</option>
                                            <option value="토, 일">토, 일</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label className="block text-sm text-slate-600 mb-2">메모</label>
                                        <textarea
                                            value={formData.memo}
                                            onChange={(e) => handleChange('memo', e.target.value)}
                                            className="w-full h-32 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"
                                        />
                                    </div>
                                </div>
                            )}

                            {activeTab === 'standard' && (
                                <div className="space-y-5">
                                    <label className="flex items-center gap-2 text-sm text-slate-700">
                                        <input
                                            type="checkbox"
                                            checked={formData.useStandardRule}
                                            onChange={(e) => handleChange('useStandardRule', e.target.checked)}
                                            className="rounded border-slate-300 text-primary-600"
                                        />
                                        소정근로규칙 사용
                                    </label>
                                    <div>
                                        <label className="block text-sm text-slate-600 mb-2">소정근로시간</label>
                                        <div className="flex items-center gap-2">
                                            <select
                                                value={formData.standardPeriod}
                                                onChange={(e) => handleChange('standardPeriod', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            >
                                                <option value="1주">1주</option>
                                                <option value="1개월">1개월</option>
                                            </select>
                                            <input
                                                type="number"
                                                value={formData.standardHours}
                                                onChange={(e) => handleChange('standardHours', e.target.value)}
                                                className="w-20 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <span className="px-3 py-2 bg-slate-100 rounded-lg text-slate-600">시간</span>
                                        </div>
                                    </div>
                                    <div>
                                        <label className="flex items-center gap-1 text-sm text-slate-600 mb-2">
                                            연장근로 최소기준
                                            <span className="text-slate-400 cursor-help">ⓘ</span>
                                        </label>
                                        <div className="flex items-center gap-2">
                                            <select
                                                value={formData.minOvertimePeriod}
                                                onChange={(e) => handleChange('minOvertimePeriod', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            >
                                                <option value="1주">1주</option>
                                                <option value="1개월">1개월</option>
                                            </select>
                                            <input
                                                type="number"
                                                value={formData.minOvertimeHours}
                                                onChange={(e) => handleChange('minOvertimeHours', e.target.value)}
                                                className="w-20 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <span className="px-3 py-2 bg-slate-100 rounded-lg text-slate-600">시간</span>
                                        </div>
                                    </div>
                                    <div>
                                        <label className="flex items-center gap-1 text-sm text-slate-600 mb-2">
                                            연장근로 최대기준
                                            <span className="text-slate-400 cursor-help">ⓘ</span>
                                        </label>
                                        <div className="flex items-center gap-2">
                                            <select
                                                value={formData.maxOvertimePeriod}
                                                onChange={(e) => handleChange('maxOvertimePeriod', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            >
                                                <option value="1주">1주</option>
                                                <option value="1개월">1개월</option>
                                            </select>
                                            <input
                                                type="number"
                                                value={formData.maxOvertimeHours}
                                                onChange={(e) => handleChange('maxOvertimeHours', e.target.value)}
                                                className="w-20 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <span className="px-3 py-2 bg-slate-100 rounded-lg text-slate-600">시간</span>
                                        </div>
                                    </div>
                                    <div>
                                        <label className="block text-sm text-slate-600 mb-2">단위기간</label>
                                        <div className="flex items-center gap-2">
                                            <input
                                                type="number"
                                                value={formData.standardUnitValue}
                                                onChange={(e) => handleChange('standardUnitValue', e.target.value)}
                                                className="w-20 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <select
                                                value={formData.standardUnitType}
                                                onChange={(e) => handleChange('standardUnitType', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            >
                                                <option value="개월">개월</option>
                                                <option value="주">주</option>
                                            </select>
                                        </div>
                                    </div>
                                    <label className="flex items-center gap-2 text-sm text-slate-700">
                                        <input
                                            type="checkbox"
                                            checked={formData.standardIncludeHoliday}
                                            onChange={(e) => handleChange('standardIncludeHoliday', e.target.checked)}
                                            className="rounded border-slate-300 text-primary-600"
                                        />
                                        휴일 포함
                                        <span className="text-slate-400 cursor-help">ⓘ</span>
                                    </label>
                                </div>
                            )}

                            {activeTab === 'max' && (
                                <div className="space-y-5">
                                    <label className="flex items-center gap-2 text-sm text-slate-700">
                                        <input
                                            type="checkbox"
                                            checked={formData.useMaxRule}
                                            onChange={(e) => handleChange('useMaxRule', e.target.checked)}
                                            className="rounded border-slate-300 text-primary-600"
                                        />
                                        최대근로규칙 사용
                                    </label>
                                    <div>
                                        <label className="block text-sm text-slate-600 mb-2">최대근로시간</label>
                                        <div className="flex items-center gap-2">
                                            <select
                                                value={formData.maxPeriod}
                                                onChange={(e) => handleChange('maxPeriod', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            >
                                                <option value="1주">1주</option>
                                                <option value="1개월">1개월</option>
                                            </select>
                                            <input
                                                type="number"
                                                value={formData.maxHours}
                                                onChange={(e) => handleChange('maxHours', e.target.value)}
                                                className="w-20 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <span className="px-3 py-2 bg-slate-100 rounded-lg text-slate-600">시간</span>
                                        </div>
                                    </div>
                                    <div>
                                        <label className="block text-sm text-slate-600 mb-2">단위기간</label>
                                        <div className="flex items-center gap-2">
                                            <input
                                                type="number"
                                                value={formData.maxUnitValue}
                                                onChange={(e) => handleChange('maxUnitValue', e.target.value)}
                                                className="w-20 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <select
                                                value={formData.maxUnitType}
                                                onChange={(e) => handleChange('maxUnitType', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            >
                                                <option value="개월">개월</option>
                                                <option value="주">주</option>
                                            </select>
                                        </div>
                                    </div>
                                    <label className="flex items-center gap-2 text-sm text-slate-700">
                                        <input
                                            type="checkbox"
                                            checked={formData.maxIncludeHoliday}
                                            onChange={(e) => handleChange('maxIncludeHoliday', e.target.checked)}
                                            className="rounded border-slate-300 text-primary-600"
                                        />
                                        휴일 포함
                                        <span className="text-slate-400 cursor-help">ⓘ</span>
                                    </label>
                                </div>
                            )}
                        </div>

                        {/* Footer */}
                        <div className="flex items-center justify-end gap-3 p-6 border-t border-slate-200">
                            <button
                                onClick={onClose}
                                className="px-6 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors"
                            >
                                취소
                            </button>
                            <button
                                onClick={handleSubmit}
                                className="px-6 py-2 bg-slate-400 text-white rounded-lg hover:bg-slate-500 transition-colors"
                            >
                                추가하기
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        // Work Info Settings Component
        const WorkInfoSettings = () => {
            const toast = useToast();
            const [showInactive, setShowInactive] = useState(false);
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [selectedWorkInfos, setSelectedWorkInfos] = useState([]);
            const [filters, setFilters] = useState({});
            const [sortField, setSortField] = useState('name');
            const [sortDirection, setSortDirection] = useState('asc');

            const [workInfos, setWorkInfos] = useState([
                {
                    id: 1,
                    name: '1개월 단위 선택근무제',
                    hourlyRate: '₩ 0',
                    workDays: '월, 화, 수, 목, 금',
                    weeklyHoliday: '일',
                    standardRule: '1개월 평균 주 40시간',
                    maxRule: '1개월 평균 주 52시간',
                    memo: ''
                },
                {
                    id: 2,
                    name: '일반근무',
                    hourlyRate: '₩ 0',
                    workDays: '월, 화, 수, 목, 금',
                    weeklyHoliday: '일',
                    standardRule: '1주 40시간',
                    maxRule: '1주 52시간',
                    memo: ''
                }
            ]);

            const columns = [
                { id: 'name', label: '근로정보명', width: 'w-1/6', sortable: true },
                { id: 'hourlyRate', label: '시급', width: 'w-16' },
                { id: 'workDays', label: '소정근로요일', width: 'w-1/6' },
                { id: 'weeklyHoliday', label: '주휴요일', width: 'w-16' },
                { id: 'standardRule', label: '소정근로규칙', width: 'w-1/6' },
                { id: 'maxRule', label: '최대근로규칙', width: 'w-1/6' },
                { id: 'memo', label: '메모', width: 'w-1/6' }
            ];

            const handleSort = (field) => {
                if (sortField === field) {
                    setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');
                } else {
                    setSortField(field);
                    setSortDirection('asc');
                }
            };

            const handleSelectAll = (checked) => {
                if (checked) {
                    setSelectedWorkInfos(workInfos.map(w => w.id));
                } else {
                    setSelectedWorkInfos([]);
                }
            };

            const handleSelectWorkInfo = (id, checked) => {
                if (checked) {
                    setSelectedWorkInfos([...selectedWorkInfos, id]);
                } else {
                    setSelectedWorkInfos(selectedWorkInfos.filter(w => w !== id));
                }
            };

            const handleAddWorkInfo = (data) => {
                const newWorkInfo = {
                    id: workInfos.length + 1,
                    name: data.name,
                    hourlyRate: `₩ ${data.hourlyRate}`,
                    workDays: data.workDays,
                    weeklyHoliday: data.weeklyHoliday,
                    standardRule: data.useStandardRule ? `${data.standardPeriod} ${data.standardHours}시간` : '-',
                    maxRule: data.useMaxRule ? `${data.maxPeriod} ${data.maxHours}시간` : '-',
                    memo: data.memo
                };
                setWorkInfos([...workInfos, newWorkInfo]);
                toast.addToast('근로정보가 추가되었습니다.', 'success');
            };

            return (
                <div className="space-y-6">
                    {/* Header */}
                    <div className="flex items-start justify-between">
                        <div>
                            <div className="flex items-center gap-2 mb-2">
                                <h1 className="text-2xl font-bold text-slate-800">근로정보 관리</h1>
                                <button className="text-slate-400 hover:text-slate-600">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                            </div>
                            <p className="text-sm text-slate-500">
                                근로정보를 통해 다양한 근무제도(예: 주 52시간제, 유연근무제)를 통합 운영할 수 있습니다.
                            </p>
                        </div>
                        <div className="flex items-center gap-2">
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                다운로드
                            </button>
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                업로드
                            </button>
                            <button
                                onClick={() => setIsModalOpen(true)}
                                className="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2"
                            >
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                </svg>
                                근로정보 추가하기
                            </button>
                        </div>
                    </div>

                    {/* Toggle */}
                    <div className="flex items-center gap-2">
                        <span className="text-sm text-slate-600">비활성화된 근로정보들 보기</span>
                        <button
                            onClick={() => setShowInactive(!showInactive)}
                            className={`relative w-10 h-6 rounded-full transition-colors ${showInactive ? 'bg-primary-500' : 'bg-slate-300'}`}
                        >
                            <div className={`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${showInactive ? 'left-5' : 'left-1'}`} />
                        </button>
                    </div>

                    {/* Table */}
                    <div className="bg-white rounded-xl border border-slate-200 overflow-hidden">
                        <div className="overflow-x-auto">
                            <table className="w-full min-w-[1000px]">
                                <thead>
                                    <tr className="border-b border-slate-200">
                                        <th className="w-10 px-4 py-3">
                                            <input
                                                type="checkbox"
                                                checked={selectedWorkInfos.length === workInfos.length && workInfos.length > 0}
                                                onChange={(e) => handleSelectAll(e.target.checked)}
                                                className="rounded border-slate-300"
                                            />
                                        </th>
                                        {columns.map((col) => (
                                            <th key={col.id} className={`px-3 py-3 ${col.width}`}>
                                                <div className="space-y-1">
                                                    <input
                                                        type="text"
                                                        placeholder="검색.."
                                                        className="w-full max-w-xs px-2 py-1 text-xs border border-slate-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500"
                                                        onChange={(e) => setFilters({ ...filters, [col.id]: e.target.value })}
                                                    />
                                                    <button
                                                        onClick={() => col.sortable && handleSort(col.id)}
                                                        className={`text-xs font-medium text-left flex items-center gap-1 ${
                                                            col.sortable ? 'text-primary-600 hover:text-primary-700 cursor-pointer' : 'text-slate-600'
                                                        }`}
                                                    >
                                                        {col.label}
                                                        {col.sortable && sortField === col.id && (
                                                            <svg className={`w-3 h-3 ${sortDirection === 'desc' ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 15l7-7 7 7" />
                                                            </svg>
                                                        )}
                                                    </button>
                                                </div>
                                            </th>
                                        ))}
                                    </tr>
                                </thead>
                                <tbody>
                                    {workInfos.map((workInfo) => (
                                        <tr key={workInfo.id} className="border-b border-slate-100 hover:bg-slate-50">
                                            <td className="px-4 py-3">
                                                <input
                                                    type="checkbox"
                                                    checked={selectedWorkInfos.includes(workInfo.id)}
                                                    onChange={(e) => handleSelectWorkInfo(workInfo.id, e.target.checked)}
                                                    className="rounded border-slate-300"
                                                />
                                            </td>
                                            <td className="px-3 py-3 text-sm font-medium text-slate-800">{workInfo.name}</td>
                                            <td className="px-3 py-3 text-sm text-slate-600">{workInfo.hourlyRate}</td>
                                            <td className="px-3 py-3 text-sm text-slate-600">{workInfo.workDays}</td>
                                            <td className="px-3 py-3 text-sm text-slate-600">{workInfo.weeklyHoliday}</td>
                                            <td className="px-3 py-3 text-sm text-slate-600">{workInfo.standardRule}</td>
                                            <td className="px-3 py-3 text-sm text-slate-600">{workInfo.maxRule}</td>
                                            <td className="px-3 py-3 text-sm text-slate-600">{workInfo.memo}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    {/* Add Work Info Modal */}
                    <AddWorkInfoModal
                        isOpen={isModalOpen}
                        onClose={() => setIsModalOpen(false)}
                        onAdd={handleAddWorkInfo}
                    />
                </div>
            );
        };

        // Add Leave Type Modal Component
        const AddLeaveTypeModal = ({ isOpen, onClose, onAdd, onUpdate, onDelete, editData = null }) => {
            const [formData, setFormData] = useState({
                leaveGroup: editData?.leaveGroup || '휴가 그룹 없음',
                name: editData?.name || '',
                organization: editData?.organization || '(모든 조직)',
                position: editData?.position || '(모든 직무)',
                paidHours: editData?.paidHours || 8,
                deductDays: editData?.deductDays || 1,
                timeOption: editData?.timeOption || 'fullDay',
                timeFixed: editData?.timeFixed || 'fixed',
                fixedHours: editData?.fixedHours || 4,
                specialOption: editData?.specialOption || '해당 없음',
                allowCustomTime: editData?.allowCustomTime ?? false,
                minConsecutiveDaysEnabled: editData?.minConsecutiveDaysEnabled ?? false,
                minConsecutiveDays: editData?.minConsecutiveDays || 1,
                maxConsecutiveDaysEnabled: editData?.maxConsecutiveDaysEnabled ?? false,
                maxConsecutiveDays: editData?.maxConsecutiveDays || 5,
                preCheckIn: editData?.preCheckIn ?? false,
                showReason: editData?.showReason ?? true,
                deleteFullSchedule: editData?.deleteFullSchedule ?? false,
                memo: editData?.memo || ''
            });

            useEffect(() => {
                if (editData) {
                    setFormData({
                        leaveGroup: editData.leaveGroup || '휴가 그룹 없음',
                        name: editData.name || '',
                        organization: editData.organization || '(모든 조직)',
                        position: editData.position || '(모든 직무)',
                        paidHours: editData.paidHours || 8,
                        deductDays: editData.deductDays || 1,
                        timeOption: editData.timeOption || 'fullDay',
                        timeFixed: editData.timeFixed || 'fixed',
                        fixedHours: editData.fixedHours || 4,
                        specialOption: editData.specialOption || '해당 없음',
                        allowCustomTime: editData.allowCustomTime ?? false,
                        minConsecutiveDaysEnabled: editData.minConsecutiveDaysEnabled ?? false,
                        minConsecutiveDays: editData.minConsecutiveDays || 1,
                        maxConsecutiveDaysEnabled: editData.maxConsecutiveDaysEnabled ?? false,
                        maxConsecutiveDays: editData.maxConsecutiveDays || 5,
                        preCheckIn: editData.preCheckIn ?? false,
                        showReason: editData.showReason ?? true,
                        deleteFullSchedule: editData.deleteFullSchedule ?? false,
                        memo: editData.memo || ''
                    });
                } else {
                    setFormData({
                        leaveGroup: '휴가 그룹 없음',
                        name: '',
                        organization: '(모든 조직)',
                        position: '(모든 직무)',
                        paidHours: 8,
                        deductDays: 1,
                        timeOption: 'fullDay',
                        timeFixed: 'fixed',
                        fixedHours: 4,
                        specialOption: '해당 없음',
                        allowCustomTime: false,
                        minConsecutiveDaysEnabled: false,
                        minConsecutiveDays: 1,
                        maxConsecutiveDaysEnabled: false,
                        maxConsecutiveDays: 5,
                        preCheckIn: false,
                        showReason: true,
                        deleteFullSchedule: false,
                        memo: ''
                    });
                }
            }, [editData, isOpen]);

            const handleChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const handleSubmit = () => {
                if (editData) {
                    onUpdate({ ...formData, id: editData.id });
                } else {
                    onAdd(formData);
                }
                onClose();
            };

            const handleDelete = () => {
                if (editData && onDelete) {
                    onDelete(editData.id);
                    onClose();
                }
            };

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 modal-overlay">
                    <div className="bg-white rounded-2xl w-full max-w-xl max-h-[90vh] overflow-hidden modal-content">
                        {/* Header */}
                        <div className="flex items-center justify-between p-6 border-b border-slate-200">
                            <h2 className="text-xl font-semibold text-slate-800">
                                {editData ? '휴가 유형 수정하기' : '휴가 유형 추가하기'}
                            </h2>
                            <div className="flex items-center gap-2">
                                <button className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                                <button onClick={onClose} className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        {/* Body */}
                        <div className="p-6 overflow-y-auto max-h-[calc(90vh-180px)] space-y-5">
                            <div className="flex items-center gap-4">
                                <label className="w-24 text-sm text-slate-600 flex items-center gap-1">
                                    휴가 그룹
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>
                                <select
                                    value={formData.leaveGroup}
                                    onChange={(e) => handleChange('leaveGroup', e.target.value)}
                                    className="flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                >
                                    <option value="휴가 그룹 없음">휴가 그룹 없음</option>
                                    <option value="연차휴가">연차휴가</option>
                                </select>
                            </div>

                            <div className="flex items-center gap-4">
                                <label className="w-24 text-sm text-slate-600">이름</label>
                                <input
                                    type="text"
                                    value={formData.name}
                                    onChange={(e) => handleChange('name', e.target.value)}
                                    className="flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                />
                            </div>

                            <div className="flex items-center gap-4">
                                <label className="w-24 text-sm text-slate-600">조직</label>
                                <select
                                    value={formData.organization}
                                    onChange={(e) => handleChange('organization', e.target.value)}
                                    className="flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                >
                                    <option value="(모든 조직)">(모든 조직)</option>
                                </select>
                            </div>

                            <div className="flex items-center gap-4">
                                <label className="w-24 text-sm text-slate-600">직무</label>
                                <select
                                    value={formData.position}
                                    onChange={(e) => handleChange('position', e.target.value)}
                                    className="flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                >
                                    <option value="(모든 직무)">(모든 직무)</option>
                                </select>
                            </div>

                            <div className="flex items-center gap-4">
                                <label className="w-24 text-sm text-slate-600">유급 시간(h)</label>
                                <input
                                    type="number"
                                    value={formData.paidHours}
                                    onChange={(e) => handleChange('paidHours', Number(e.target.value))}
                                    className="w-24 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                />
                            </div>

                            <div className="flex items-center gap-4">
                                <label className="w-24 text-sm text-slate-600">차감 일수</label>
                                <input
                                    type="number"
                                    step="0.5"
                                    value={formData.deductDays}
                                    onChange={(e) => handleChange('deductDays', Number(e.target.value))}
                                    className="w-24 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                />
                            </div>

                            {/* 시간 옵션 설정 */}
                            <div className="bg-slate-100 px-4 py-2 -mx-6 mt-4">
                                <span className="text-sm font-medium text-slate-700">시간 옵션 설정</span>
                            </div>

                            <div className="flex items-center gap-4 pt-2">
                                <label className="w-24 text-sm text-slate-600">시간 옵션</label>
                                <div className="flex items-center gap-6">
                                    <label className="flex items-center gap-2 cursor-pointer">
                                        <input
                                            type="radio"
                                            name="timeOption"
                                            checked={formData.timeOption === 'hourly'}
                                            onChange={() => handleChange('timeOption', 'hourly')}
                                            className="text-primary-600"
                                        />
                                        <span className="text-sm text-slate-700">시간 입력</span>
                                    </label>
                                    <label className="flex items-center gap-2 cursor-pointer">
                                        <input
                                            type="radio"
                                            name="timeOption"
                                            checked={formData.timeOption === 'fullDay'}
                                            onChange={() => handleChange('timeOption', 'fullDay')}
                                            className="text-primary-600"
                                        />
                                        <span className="text-sm text-slate-700">하루 종일</span>
                                    </label>
                                </div>
                            </div>

                            {formData.timeOption === 'hourly' && (
                                <>
                                    <div className="flex items-start gap-4">
                                        <label className="w-24 text-sm text-slate-600 pt-2">시간 고정 여부</label>
                                        <div className="flex flex-col gap-2">
                                            <label className="flex items-center gap-2 cursor-pointer">
                                                <input
                                                    type="radio"
                                                    name="timeFixed"
                                                    checked={formData.timeFixed === 'fixed'}
                                                    onChange={() => handleChange('timeFixed', 'fixed')}
                                                    className="text-primary-600"
                                                />
                                                <span className="text-sm text-slate-700">유급시간 기반 고정</span>
                                                <span className="text-slate-400 cursor-help">ⓘ</span>
                                            </label>
                                            <label className="flex items-center gap-2 cursor-pointer">
                                                <input
                                                    type="radio"
                                                    name="timeFixed"
                                                    checked={formData.timeFixed === 'notFixed'}
                                                    onChange={() => handleChange('timeFixed', 'notFixed')}
                                                    className="text-primary-600"
                                                />
                                                <span className="text-sm text-slate-700">고정 안함</span>
                                                <span className="text-slate-400 cursor-help">ⓘ</span>
                                            </label>
                                        </div>
                                    </div>

                                    <div className="flex items-center gap-2 ml-28">
                                        <input
                                            type="checkbox"
                                            id="allowCustomTime"
                                            checked={formData.allowCustomTime}
                                            onChange={(e) => handleChange('allowCustomTime', e.target.checked)}
                                            className="rounded border-slate-300 text-primary-600"
                                        />
                                        <label htmlFor="allowCustomTime" className="text-sm text-slate-700 cursor-pointer">
                                            임의 시간 입력 가능 여부
                                        </label>
                                        <span className="text-slate-400 cursor-help">ⓘ</span>
                                    </div>
                                </>
                            )}

                            {formData.timeOption === 'fullDay' && (
                                <>
                                    <div className="flex items-center gap-4">
                                        <label className="w-24 text-sm text-slate-600 flex items-center gap-1">
                                            특별 옵션
                                            <span className="text-slate-400 cursor-help">ⓘ</span>
                                        </label>
                                        <select
                                            value={formData.specialOption}
                                            onChange={(e) => handleChange('specialOption', e.target.value)}
                                            className="flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                        >
                                            <option value="해당 없음">해당 없음</option>
                                        </select>
                                    </div>

                                    <div className="flex items-center gap-2 ml-28">
                                        <input
                                            type="checkbox"
                                            id="minConsecutiveDaysEnabled"
                                            checked={formData.minConsecutiveDaysEnabled}
                                            onChange={(e) => handleChange('minConsecutiveDaysEnabled', e.target.checked)}
                                            className="rounded border-slate-300 text-primary-600"
                                        />
                                        <label htmlFor="minConsecutiveDaysEnabled" className="text-sm text-slate-700 cursor-pointer">
                                            최소 연속 가능 일수
                                        </label>
                                        <span className="text-slate-400 cursor-help">ⓘ</span>
                                        {formData.minConsecutiveDaysEnabled && (
                                            <input
                                                type="number"
                                                value={formData.minConsecutiveDays}
                                                onChange={(e) => handleChange('minConsecutiveDays', Number(e.target.value))}
                                                className="w-16 px-2 py-1 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ml-2"
                                            />
                                        )}
                                    </div>

                                    <div className="flex items-center gap-2 ml-28">
                                        <input
                                            type="checkbox"
                                            id="maxConsecutiveDaysEnabled"
                                            checked={formData.maxConsecutiveDaysEnabled}
                                            onChange={(e) => handleChange('maxConsecutiveDaysEnabled', e.target.checked)}
                                            className="rounded border-slate-300 text-primary-600"
                                        />
                                        <label htmlFor="maxConsecutiveDaysEnabled" className="text-sm text-slate-700 cursor-pointer">
                                            최대 연속 가능 일수
                                        </label>
                                        <span className="text-slate-400 cursor-help">ⓘ</span>
                                        {formData.maxConsecutiveDaysEnabled && (
                                            <input
                                                type="number"
                                                value={formData.maxConsecutiveDays}
                                                onChange={(e) => handleChange('maxConsecutiveDays', Number(e.target.value))}
                                                className="w-16 px-2 py-1 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ml-2"
                                            />
                                        )}
                                    </div>
                                </>
                            )}

                            {/* 고급 설정 */}
                            <div className="bg-slate-100 px-4 py-2 -mx-6 mt-4">
                                <span className="text-sm font-medium text-slate-700">고급 설정</span>
                            </div>

                            <div className="space-y-3 pt-2">
                                <div className="flex items-center gap-2 ml-28">
                                    <input
                                        type="checkbox"
                                        id="preCheckIn"
                                        checked={formData.preCheckIn}
                                        onChange={(e) => handleChange('preCheckIn', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    <label htmlFor="preCheckIn" className="text-sm text-slate-700 cursor-pointer">
                                        출근 전 확인사항
                                    </label>
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </div>

                                <div className="flex items-center gap-2 ml-28">
                                    <input
                                        type="checkbox"
                                        id="showReason"
                                        checked={formData.showReason}
                                        onChange={(e) => handleChange('showReason', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    <label htmlFor="showReason" className="text-sm text-slate-700 cursor-pointer">
                                        사유 표시
                                    </label>
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </div>

                                <div className="flex items-center gap-2 ml-28">
                                    <input
                                        type="checkbox"
                                        id="deleteFullSchedule"
                                        checked={formData.deleteFullSchedule}
                                        onChange={(e) => handleChange('deleteFullSchedule', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    <label htmlFor="deleteFullSchedule" className="text-sm text-slate-700 cursor-pointer">
                                        완전히 포함된 근무일정 삭제 여부
                                    </label>
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </div>
                            </div>

                            <hr className="border-slate-200" />

                            <div>
                                <label className="block text-sm text-slate-600 mb-2">메모</label>
                                <textarea
                                    value={formData.memo}
                                    onChange={(e) => handleChange('memo', e.target.value)}
                                    className="w-full h-24 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"
                                />
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="flex items-center justify-between p-6 border-t border-slate-200">
                            <div>
                                {editData && (
                                    <button
                                        onClick={handleDelete}
                                        className="px-4 py-2 text-red-500 border border-red-300 rounded-lg hover:bg-red-50 transition-colors"
                                    >
                                        삭제하기
                                    </button>
                                )}
                            </div>
                            <div className="flex items-center gap-3">
                                <button
                                    onClick={onClose}
                                    className="px-6 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors"
                                >
                                    닫기
                                </button>
                                <button
                                    onClick={handleSubmit}
                                    disabled={!formData.name}
                                    className={`px-6 py-2 rounded-lg transition-colors ${
                                        formData.name
                                            ? 'bg-primary-600 text-white hover:bg-primary-700'
                                            : 'bg-slate-300 text-slate-500 cursor-not-allowed'
                                    }`}
                                >
                                    {editData ? '변경사항 저장' : '추가하기'}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Leave Type Settings Component
        const LeaveTypeSettings = () => {
            const toast = useToast();
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [editData, setEditData] = useState(null);
            const [selectedTypes, setSelectedTypes] = useState([]);
            const [filters, setFilters] = useState({});
            const [sortField, setSortField] = useState('leaveGroup');
            const [sortDirection, setSortDirection] = useState('asc');

            const [leaveTypes, setLeaveTypes] = useState([
                {
                    id: 1,
                    leaveGroup: '-',
                    name: '병가',
                    organization: '모든 조직',
                    position: '모든 직무',
                    timeOption: 'fullDay',
                    timeFixed: '-',
                    fixedHours: null,
                    paidHours: 8,
                    deductDays: 0,
                    specialOption: '-',
                    allowCustomTime: false,
                    consecutiveDays: '-',
                    preCheckIn: false,
                    showReason: true,
                    deleteFullSchedule: false,
                    memo: ''
                },
                {
                    id: 2,
                    leaveGroup: '연차휴가',
                    name: '반차',
                    organization: '모든 조직',
                    position: '모든 직무',
                    timeOption: 'hourly',
                    timeFixed: 'notFixed',
                    fixedHours: 4,
                    paidHours: 4,
                    deductDays: 0.5,
                    specialOption: '-',
                    allowCustomTime: false,
                    consecutiveDays: '-',
                    preCheckIn: false,
                    showReason: true,
                    deleteFullSchedule: false,
                    memo: ''
                },
                {
                    id: 3,
                    leaveGroup: '연차휴가',
                    name: '연차',
                    organization: '모든 조직',
                    position: '모든 직무',
                    timeOption: 'fullDay',
                    timeFixed: '-',
                    fixedHours: null,
                    paidHours: 8,
                    deductDays: 1,
                    specialOption: '-',
                    allowCustomTime: false,
                    consecutiveDays: '-',
                    preCheckIn: false,
                    showReason: true,
                    deleteFullSchedule: false,
                    memo: ''
                }
            ]);

            const columns = [
                { id: 'leaveGroup', label: '휴가 그룹', width: 'w-24', sortable: true },
                { id: 'name', label: '휴가 유형', width: 'w-24' },
                { id: 'organization', label: '조직', width: 'w-20' },
                { id: 'position', label: '직무', width: 'w-20' },
                { id: 'timeOption', label: '시간 옵션', width: 'w-20' },
                { id: 'timeFixed', label: '시간 고정 여부', width: 'w-28' },
                { id: 'paidHours', label: '유급 시간', width: 'w-20' },
                { id: 'deductDays', label: '차감 일수', width: 'w-20' },
                { id: 'specialOption', label: '특별 옵션', width: 'w-20' },
                { id: 'allowCustomTime', label: '임의 시간 입력 가능 여부', width: 'w-36' },
                { id: 'consecutiveDays', label: '연속 가능 일수', width: 'w-28' },
                { id: 'preCheckIn', label: '출근 전 확인사항', width: 'w-28' },
                { id: 'showReason', label: '사유 표시', width: 'w-20' },
                { id: 'deleteFullSchedule', label: '완전히 포함된 근무일정 삭제 여부', width: 'w-44' },
                { id: 'memo', label: '메모', width: 'w-20' }
            ];

            const handleSort = (field) => {
                if (sortField === field) {
                    setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');
                } else {
                    setSortField(field);
                    setSortDirection('asc');
                }
            };

            const handleSelectAll = (checked) => {
                if (checked) {
                    setSelectedTypes(leaveTypes.map(t => t.id));
                } else {
                    setSelectedTypes([]);
                }
            };

            const handleSelectType = (id, checked) => {
                if (checked) {
                    setSelectedTypes([...selectedTypes, id]);
                } else {
                    setSelectedTypes(selectedTypes.filter(t => t !== id));
                }
            };

            const handleAddLeaveType = (data) => {
                const newType = {
                    id: Math.max(...leaveTypes.map(t => t.id), 0) + 1,
                    leaveGroup: data.leaveGroup === '휴가 그룹 없음' ? '-' : data.leaveGroup,
                    name: data.name,
                    organization: data.organization === '(모든 조직)' ? '모든 조직' : data.organization,
                    position: data.position === '(모든 직무)' ? '모든 직무' : data.position,
                    timeOption: data.timeOption,
                    timeFixed: data.timeOption === 'hourly' ? data.timeFixed : '-',
                    fixedHours: data.timeOption === 'hourly' && data.timeFixed === 'notFixed' ? data.fixedHours : null,
                    paidHours: data.paidHours,
                    deductDays: data.deductDays,
                    specialOption: data.specialOption === '해당 없음' ? '-' : data.specialOption,
                    allowCustomTime: data.allowCustomTime,
                    consecutiveDays: '-',
                    preCheckIn: data.preCheckIn,
                    showReason: data.showReason,
                    deleteFullSchedule: data.deleteFullSchedule,
                    memo: data.memo
                };
                setLeaveTypes([...leaveTypes, newType]);
                toast.addToast('휴가 유형이 추가되었습니다.', 'success');
            };

            const handleUpdateLeaveType = (data) => {
                setLeaveTypes(leaveTypes.map(type => {
                    if (type.id === data.id) {
                        return {
                            ...type,
                            leaveGroup: data.leaveGroup === '휴가 그룹 없음' ? '-' : data.leaveGroup,
                            name: data.name,
                            organization: data.organization === '(모든 조직)' ? '모든 조직' : data.organization,
                            position: data.position === '(모든 직무)' ? '모든 직무' : data.position,
                            timeOption: data.timeOption,
                            timeFixed: data.timeOption === 'hourly' ? data.timeFixed : '-',
                            fixedHours: data.timeOption === 'hourly' && data.timeFixed === 'notFixed' ? data.fixedHours : null,
                            paidHours: data.paidHours,
                            deductDays: data.deductDays,
                            specialOption: data.specialOption === '해당 없음' ? '-' : data.specialOption,
                            allowCustomTime: data.allowCustomTime,
                            preCheckIn: data.preCheckIn,
                            showReason: data.showReason,
                            deleteFullSchedule: data.deleteFullSchedule,
                            memo: data.memo
                        };
                    }
                    return type;
                }));
                toast.addToast('휴가 유형이 수정되었습니다.', 'success');
            };

            const handleDeleteLeaveType = (id) => {
                setLeaveTypes(leaveTypes.filter(type => type.id !== id));
                toast.addToast('휴가 유형이 삭제되었습니다.', 'success');
            };

            const openAddModal = () => {
                setEditData(null);
                setIsModalOpen(true);
            };

            const openEditModal = (type) => {
                setEditData({
                    ...type,
                    leaveGroup: type.leaveGroup === '-' ? '휴가 그룹 없음' : type.leaveGroup,
                    organization: type.organization === '모든 조직' ? '(모든 조직)' : type.organization,
                    position: type.position === '모든 직무' ? '(모든 직무)' : type.position,
                    specialOption: type.specialOption === '-' ? '해당 없음' : type.specialOption
                });
                setIsModalOpen(true);
            };

            const getTimeOptionDisplay = (type) => {
                return type.timeOption === 'fullDay' ? '하루 종일' : '시간 입력';
            };

            const getTimeFixedDisplay = (type) => {
                if (type.timeFixed === '-') return '-';
                if (type.timeFixed === 'fixed') return '유급시간 기반 고정';
                return `고정 안함 (${type.fixedHours}h)`;
            };

            const sortedLeaveTypes = [...leaveTypes].sort((a, b) => {
                const aValue = a[sortField] || '';
                const bValue = b[sortField] || '';
                if (sortDirection === 'asc') {
                    return aValue.toString().localeCompare(bValue.toString());
                }
                return bValue.toString().localeCompare(aValue.toString());
            });

            return (
                <div className="space-y-6">
                    {/* Header */}
                    <div className="flex items-start justify-between">
                        <div>
                            <div className="flex items-center gap-2 mb-2">
                                <h1 className="text-2xl font-bold text-slate-800">휴가 유형 관리</h1>
                                <button className="text-slate-400 hover:text-slate-600">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                            </div>
                            <p className="text-sm text-slate-500">
                                연차, 병가, 여름휴가, 휴직 등 다양한 휴가 종류를 관리하고, 각 유형에 대한 세부 조건을 설정할 수 있습니다.
                            </p>
                        </div>
                        <div className="flex items-center gap-2">
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                다운로드
                            </button>
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                업로드
                            </button>
                            <button
                                onClick={openAddModal}
                                className="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2"
                            >
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                </svg>
                                휴가 유형 추가하기
                            </button>
                        </div>
                    </div>

                    {/* Table */}
                    <div className="bg-white rounded-xl border border-slate-200 overflow-hidden">
                        <div className="overflow-x-auto">
                            <table className="w-full min-w-[2000px]">
                                <thead>
                                    <tr className="border-b border-slate-200">
                                        <th className="w-10 px-3 py-3">
                                            <input
                                                type="checkbox"
                                                checked={selectedTypes.length === leaveTypes.length && leaveTypes.length > 0}
                                                onChange={(e) => handleSelectAll(e.target.checked)}
                                                className="rounded border-slate-300"
                                            />
                                        </th>
                                        {columns.map((col) => (
                                            <th key={col.id} className={`px-2 py-3 ${col.width}`}>
                                                <div className="space-y-1">
                                                    <input
                                                        type="text"
                                                        placeholder="검색.."
                                                        className="w-full px-2 py-1 text-xs border border-slate-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500"
                                                        onChange={(e) => setFilters({ ...filters, [col.id]: e.target.value })}
                                                    />
                                                    <button
                                                        onClick={() => col.sortable && handleSort(col.id)}
                                                        className={`text-xs font-medium text-left flex items-center gap-1 ${
                                                            col.sortable ? 'text-primary-600 hover:text-primary-700 cursor-pointer' : 'text-slate-600'
                                                        }`}
                                                    >
                                                        {col.label}
                                                        {col.sortable && sortField === col.id && (
                                                            <svg className={`w-3 h-3 ${sortDirection === 'desc' ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 15l7-7 7 7" />
                                                            </svg>
                                                        )}
                                                    </button>
                                                </div>
                                            </th>
                                        ))}
                                    </tr>
                                </thead>
                                <tbody>
                                    {sortedLeaveTypes.map((type) => (
                                        <tr
                                            key={type.id}
                                            className="border-b border-slate-100 hover:bg-slate-50 cursor-pointer"
                                            onClick={() => openEditModal(type)}
                                        >
                                            <td className="px-3 py-3" onClick={(e) => e.stopPropagation()}>
                                                <input
                                                    type="checkbox"
                                                    checked={selectedTypes.includes(type.id)}
                                                    onChange={(e) => handleSelectType(type.id, e.target.checked)}
                                                    className="rounded border-slate-300"
                                                />
                                            </td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.leaveGroup}</td>
                                            <td className="px-2 py-3 text-sm font-medium text-slate-800">{type.name}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.organization}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.position}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{getTimeOptionDisplay(type)}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{getTimeFixedDisplay(type)}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.paidHours}h</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.deductDays}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.specialOption}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.allowCustomTime ? 'O' : 'X'}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.consecutiveDays}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.preCheckIn ? 'O' : '-'}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.showReason ? 'O' : 'X'}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.deleteFullSchedule ? 'O' : 'X'}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.memo || '-'}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    {/* Add/Edit Leave Type Modal */}
                    <AddLeaveTypeModal
                        isOpen={isModalOpen}
                        onClose={() => {
                            setIsModalOpen(false);
                            setEditData(null);
                        }}
                        onAdd={handleAddLeaveType}
                        onUpdate={handleUpdateLeaveType}
                        onDelete={handleDeleteLeaveType}
                        editData={editData}
                    />
                </div>
            );
        };

        // Add Leave Rule Modal Component
        const AddLeaveRuleModal = ({ isOpen, onClose, onAdd, onUpdate, onDelete, editData = null }) => {
            const [activeTab, setActiveTab] = useState('basic');
            const [formData, setFormData] = useState({
                leaveGroup: editData?.leaveGroup || '선택안됨',
                ruleName: editData?.ruleName || '',
                memo: editData?.memo || '',
                monthlyRules: editData?.monthlyRules || [{ consecutiveMonths: '', accrualDays: '', validMonths: '' }],
                yearlyRules: editData?.yearlyRules || [{ years: '', accrualDays: '', startDate: '', endDate: '' }],
                applyProration: editData?.applyProration ?? false
            });

            useEffect(() => {
                if (editData) {
                    setFormData({
                        leaveGroup: editData.leaveGroup || '선택안됨',
                        ruleName: editData.ruleName || '',
                        memo: editData.memo || '',
                        monthlyRules: editData.monthlyRules || [{ consecutiveMonths: '', accrualDays: '', validMonths: '' }],
                        yearlyRules: editData.yearlyRules || [{ years: '', accrualDays: '', startDate: '', endDate: '' }],
                        applyProration: editData.applyProration ?? false
                    });
                    setActiveTab('basic');
                } else {
                    setFormData({
                        leaveGroup: '선택안됨',
                        ruleName: '',
                        memo: '',
                        monthlyRules: [{ consecutiveMonths: '', accrualDays: '', validMonths: '' }],
                        yearlyRules: [{ years: '', accrualDays: '', startDate: '', endDate: '' }],
                        applyProration: false
                    });
                    setActiveTab('basic');
                }
            }, [editData, isOpen]);

            const handleChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const handleMonthlyRuleChange = (index, field, value) => {
                const newRules = [...formData.monthlyRules];
                newRules[index] = { ...newRules[index], [field]: value };
                setFormData(prev => ({ ...prev, monthlyRules: newRules }));
            };

            const addMonthlyRule = () => {
                setFormData(prev => ({
                    ...prev,
                    monthlyRules: [...prev.monthlyRules, { consecutiveMonths: '', accrualDays: '', validMonths: '' }]
                }));
            };

            const removeMonthlyRule = (index) => {
                setFormData(prev => ({
                    ...prev,
                    monthlyRules: prev.monthlyRules.filter((_, i) => i !== index)
                }));
            };

            const handleYearlyRuleChange = (index, field, value) => {
                const newRules = [...formData.yearlyRules];
                newRules[index] = { ...newRules[index], [field]: value };
                setFormData(prev => ({ ...prev, yearlyRules: newRules }));
            };

            const addYearlyRule = () => {
                setFormData(prev => ({
                    ...prev,
                    yearlyRules: [...prev.yearlyRules, { years: '', accrualDays: '', startDate: '', endDate: '' }]
                }));
            };

            const removeYearlyRule = (index) => {
                setFormData(prev => ({
                    ...prev,
                    yearlyRules: prev.yearlyRules.filter((_, i) => i !== index)
                }));
            };

            const handleSubmit = () => {
                if (editData) {
                    onUpdate({ ...formData, id: editData.id });
                } else {
                    onAdd(formData);
                }
                onClose();
            };

            const handleDelete = () => {
                if (editData && onDelete) {
                    onDelete(editData.id);
                    onClose();
                }
            };

            const getMonthlyCount = () => formData.monthlyRules.filter(r => r.consecutiveMonths && r.accrualDays).length;
            const getYearlyCount = () => formData.yearlyRules.filter(r => r.years && r.accrualDays).length;

            const isFormValid = formData.leaveGroup !== '선택안됨' && formData.ruleName.trim() !== '';

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 modal-overlay">
                    <div className="bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden modal-content">
                        {/* Header */}
                        <div className="flex items-center justify-between p-6 border-b border-slate-200">
                            <h2 className="text-xl font-semibold text-slate-800">
                                {editData ? '휴가 발생 규칙 수정하기' : '휴가 발생 규칙 추가하기'}
                            </h2>
                            <div className="flex items-center gap-2">
                                <button className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                                <button onClick={onClose} className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        {/* Tabs */}
                        <div className="border-b border-slate-200">
                            <div className="flex">
                                <button
                                    onClick={() => setActiveTab('basic')}
                                    className={`px-6 py-3 text-sm font-medium border-b-2 transition-all ${
                                        activeTab === 'basic'
                                            ? 'text-primary-600 border-primary-600'
                                            : 'text-slate-600 border-transparent hover:text-slate-800'
                                    }`}
                                >
                                    기본 정보
                                </button>
                                <button
                                    onClick={() => setActiveTab('monthly')}
                                    className={`px-4 py-3 text-sm font-medium border-b-2 transition-all flex items-center gap-2 ${
                                        activeTab === 'monthly'
                                            ? 'text-primary-600 border-primary-600'
                                            : 'text-slate-600 border-transparent hover:text-slate-800'
                                    }`}
                                >
                                    월 기준 발생
                                    <span className={`px-2 py-0.5 text-xs rounded-full ${
                                        activeTab === 'monthly' ? 'bg-primary-600 text-white' : 'bg-slate-200 text-slate-600'
                                    }`}>{getMonthlyCount()}</span>
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </button>
                                <button
                                    onClick={() => setActiveTab('yearly')}
                                    className={`px-4 py-3 text-sm font-medium border-b-2 transition-all flex items-center gap-2 ${
                                        activeTab === 'yearly'
                                            ? 'text-primary-600 border-primary-600'
                                            : 'text-slate-600 border-transparent hover:text-slate-800'
                                    }`}
                                >
                                    연 기준 발생
                                    <span className={`px-2 py-0.5 text-xs rounded-full ${
                                        activeTab === 'yearly' ? 'bg-primary-600 text-white' : 'bg-slate-200 text-slate-600'
                                    }`}>{getYearlyCount()}</span>
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </button>
                            </div>
                        </div>

                        {/* Body */}
                        <div className="p-6 overflow-y-auto max-h-[calc(90vh-260px)]">
                            {activeTab === 'basic' && (
                                <div className="space-y-5">
                                    <div className="flex items-center gap-4">
                                        <label className="w-20 text-sm text-slate-600">휴가 그룹</label>
                                        <select
                                            value={formData.leaveGroup}
                                            onChange={(e) => handleChange('leaveGroup', e.target.value)}
                                            className="flex-1 max-w-xs px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                        >
                                            <option value="선택안됨">선택안됨</option>
                                            <option value="연차휴가">연차휴가</option>
                                        </select>
                                    </div>

                                    <div className="flex items-center gap-4">
                                        <label className="w-20 text-sm text-slate-600">규칙명</label>
                                        <input
                                            type="text"
                                            value={formData.ruleName}
                                            onChange={(e) => handleChange('ruleName', e.target.value)}
                                            className="flex-1 max-w-md px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm text-slate-600 mb-2">메모</label>
                                        <textarea
                                            value={formData.memo}
                                            onChange={(e) => handleChange('memo', e.target.value)}
                                            className="w-full h-32 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"
                                        />
                                    </div>
                                </div>
                            )}

                            {activeTab === 'monthly' && (
                                <div className="space-y-4">
                                    <div className="grid grid-cols-4 gap-4 text-sm font-medium text-slate-700 pb-2">
                                        <div>근속월수</div>
                                        <div>발생 일수</div>
                                        <div>유효 개월 수</div>
                                        <div></div>
                                    </div>
                                    {formData.monthlyRules.map((rule, index) => (
                                        <div key={index} className="grid grid-cols-4 gap-4">
                                            <input
                                                type="number"
                                                value={rule.consecutiveMonths}
                                                onChange={(e) => handleMonthlyRuleChange(index, 'consecutiveMonths', e.target.value)}
                                                placeholder="근속월수"
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <input
                                                type="number"
                                                value={rule.accrualDays}
                                                onChange={(e) => handleMonthlyRuleChange(index, 'accrualDays', e.target.value)}
                                                placeholder="발생 일수"
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <input
                                                type="number"
                                                value={rule.validMonths}
                                                onChange={(e) => handleMonthlyRuleChange(index, 'validMonths', e.target.value)}
                                                placeholder="유효 개월 수"
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <button
                                                onClick={() => removeMonthlyRule(index)}
                                                className="px-3 py-2 text-red-500 border border-red-300 rounded-lg hover:bg-red-50 transition-colors"
                                            >
                                                삭제
                                            </button>
                                        </div>
                                    ))}
                                    <button
                                        onClick={addMonthlyRule}
                                        className="flex items-center gap-1 text-primary-600 hover:text-primary-700 font-medium text-sm"
                                    >
                                        <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                        </svg>
                                        추가하기
                                    </button>
                                </div>
                            )}

                            {activeTab === 'yearly' && (
                                <div className="space-y-4">
                                    <label className="flex items-center gap-2 text-sm text-slate-700 mb-4">
                                        <input
                                            type="checkbox"
                                            checked={formData.applyProration}
                                            onChange={(e) => handleChange('applyProration', e.target.checked)}
                                            className="rounded border-slate-300 text-primary-600"
                                        />
                                        첫 발생 건에 대해 일할 계산 적용
                                        <span className="text-slate-400 cursor-help">ⓘ</span>
                                    </label>

                                    <div className="grid grid-cols-5 gap-4 text-sm font-medium text-slate-700 pb-2">
                                        <div>연수</div>
                                        <div>발생 일수</div>
                                        <div>시작 월일</div>
                                        <div>종료 월일</div>
                                        <div></div>
                                    </div>
                                    {formData.yearlyRules.map((rule, index) => (
                                        <div key={index} className="grid grid-cols-5 gap-4">
                                            <input
                                                type="number"
                                                value={rule.years}
                                                onChange={(e) => handleYearlyRuleChange(index, 'years', e.target.value)}
                                                placeholder="연수"
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <input
                                                type="number"
                                                value={rule.accrualDays}
                                                onChange={(e) => handleYearlyRuleChange(index, 'accrualDays', e.target.value)}
                                                placeholder="발생 일수"
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <input
                                                type="text"
                                                value={rule.startDate}
                                                onChange={(e) => handleYearlyRuleChange(index, 'startDate', e.target.value)}
                                                placeholder="MM/DD"
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <input
                                                type="text"
                                                value={rule.endDate}
                                                onChange={(e) => handleYearlyRuleChange(index, 'endDate', e.target.value)}
                                                placeholder="MM/DD"
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                            />
                                            <button
                                                onClick={() => removeYearlyRule(index)}
                                                className="px-3 py-2 text-red-500 border border-red-300 rounded-lg hover:bg-red-50 transition-colors"
                                            >
                                                삭제
                                            </button>
                                        </div>
                                    ))}
                                    <button
                                        onClick={addYearlyRule}
                                        className="flex items-center gap-1 text-primary-600 hover:text-primary-700 font-medium text-sm"
                                    >
                                        <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                        </svg>
                                        추가하기
                                    </button>
                                </div>
                            )}
                        </div>

                        {/* Footer */}
                        <div className="flex items-center justify-between p-6 border-t border-slate-200">
                            <div>
                                {editData && (
                                    <button
                                        onClick={handleDelete}
                                        className="px-4 py-2 text-red-500 border border-red-300 rounded-lg hover:bg-red-50 transition-colors"
                                    >
                                        삭제하기
                                    </button>
                                )}
                            </div>
                            <div className="flex items-center gap-3">
                                <button
                                    onClick={onClose}
                                    className="px-6 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors"
                                >
                                    취소
                                </button>
                                <button
                                    onClick={handleSubmit}
                                    disabled={!isFormValid}
                                    className={`px-6 py-2 rounded-lg transition-colors ${
                                        isFormValid
                                            ? 'bg-primary-600 text-white hover:bg-primary-700'
                                            : 'bg-slate-300 text-slate-500 cursor-not-allowed'
                                    }`}
                                >
                                    {editData ? '변경사항 저장' : '추가하기'}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Leave Rule Settings Component
        const LeaveRuleSettings = () => {
            const toast = useToast();
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [editData, setEditData] = useState(null);
            const [selectedRules, setSelectedRules] = useState([]);
            const [filters, setFilters] = useState({});
            const [sortField, setSortField] = useState('leaveGroup');
            const [sortDirection, setSortDirection] = useState('asc');

            const [leaveRules, setLeaveRules] = useState([
                {
                    id: 1,
                    leaveGroup: '연차휴가',
                    ruleName: '(회계연도 기준) 연차 휴가 발생 규칙',
                    monthlyRules: [
                        { consecutiveMonths: 1, accrualDays: 1, validMonths: 11 },
                        { consecutiveMonths: 2, accrualDays: 1, validMonths: 10 },
                        { consecutiveMonths: 3, accrualDays: 1, validMonths: 9 },
                        { consecutiveMonths: 4, accrualDays: 1, validMonths: 8 },
                        { consecutiveMonths: 5, accrualDays: 1, validMonths: 7 },
                        { consecutiveMonths: 6, accrualDays: 1, validMonths: 6 },
                        { consecutiveMonths: 7, accrualDays: 1, validMonths: 5 },
                        { consecutiveMonths: 8, accrualDays: 1, validMonths: 4 },
                        { consecutiveMonths: 9, accrualDays: 1, validMonths: 3 },
                        { consecutiveMonths: 10, accrualDays: 1, validMonths: 2 },
                        { consecutiveMonths: 11, accrualDays: 1, validMonths: 1 }
                    ],
                    yearlyRules: [
                        { years: 1, accrualDays: 15, startDate: '01/01', endDate: '12/31' },
                        { years: 2, accrualDays: 15, startDate: '01/01', endDate: '12/31' },
                        { years: 3, accrualDays: 15, startDate: '01/01', endDate: '12/31' },
                        { years: 4, accrualDays: 16, startDate: '01/01', endDate: '12/31' },
                        { years: 5, accrualDays: 16, startDate: '01/01', endDate: '12/31' }
                    ],
                    applyProration: true,
                    memo: ''
                },
                {
                    id: 2,
                    leaveGroup: '연차휴가',
                    ruleName: '(입사일 기준) 연차 휴가 발생 규칙',
                    monthlyRules: [
                        { consecutiveMonths: 1, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 2, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 3, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 4, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 5, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 6, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 7, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 8, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 9, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 10, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 11, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 12, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 13, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 14, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 15, accrualDays: 1, validMonths: 12 },
                        { consecutiveMonths: 16, accrualDays: 1, validMonths: 12 }
                    ],
                    yearlyRules: [],
                    applyProration: false,
                    memo: ''
                }
            ]);

            const columns = [
                { id: 'leaveGroup', label: '휴가 그룹', width: 'w-28', sortable: true },
                { id: 'ruleName', label: '규칙명', width: 'w-80' },
                { id: 'monthlyCount', label: '월 기준 발생', width: 'w-28' },
                { id: 'yearlyCount', label: '연 기준 발생', width: 'w-28' },
                { id: 'memo', label: '메모', width: 'w-32' }
            ];

            const handleSort = (field) => {
                if (sortField === field) {
                    setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');
                } else {
                    setSortField(field);
                    setSortDirection('asc');
                }
            };

            const handleSelectAll = (checked) => {
                if (checked) {
                    setSelectedRules(leaveRules.map(r => r.id));
                } else {
                    setSelectedRules([]);
                }
            };

            const handleSelectRule = (id, checked) => {
                if (checked) {
                    setSelectedRules([...selectedRules, id]);
                } else {
                    setSelectedRules(selectedRules.filter(r => r !== id));
                }
            };

            const handleAddLeaveRule = (data) => {
                const newRule = {
                    id: Math.max(...leaveRules.map(r => r.id), 0) + 1,
                    leaveGroup: data.leaveGroup,
                    ruleName: data.ruleName,
                    monthlyRules: data.monthlyRules.filter(r => r.consecutiveMonths && r.accrualDays),
                    yearlyRules: data.yearlyRules.filter(r => r.years && r.accrualDays),
                    applyProration: data.applyProration,
                    memo: data.memo
                };
                setLeaveRules([...leaveRules, newRule]);
                toast.addToast('휴가 발생 규칙이 추가되었습니다.', 'success');
            };

            const handleUpdateLeaveRule = (data) => {
                setLeaveRules(leaveRules.map(rule => {
                    if (rule.id === data.id) {
                        return {
                            ...rule,
                            leaveGroup: data.leaveGroup,
                            ruleName: data.ruleName,
                            monthlyRules: data.monthlyRules.filter(r => r.consecutiveMonths && r.accrualDays),
                            yearlyRules: data.yearlyRules.filter(r => r.years && r.accrualDays),
                            applyProration: data.applyProration,
                            memo: data.memo
                        };
                    }
                    return rule;
                }));
                toast.addToast('휴가 발생 규칙이 수정되었습니다.', 'success');
            };

            const handleDeleteLeaveRule = (id) => {
                setLeaveRules(leaveRules.filter(rule => rule.id !== id));
                toast.addToast('휴가 발생 규칙이 삭제되었습니다.', 'success');
            };

            const openAddModal = () => {
                setEditData(null);
                setIsModalOpen(true);
            };

            const openEditModal = (rule) => {
                setEditData(rule);
                setIsModalOpen(true);
            };

            const sortedLeaveRules = [...leaveRules].sort((a, b) => {
                const aValue = a[sortField] || '';
                const bValue = b[sortField] || '';
                if (sortDirection === 'asc') {
                    return aValue.toString().localeCompare(bValue.toString());
                }
                return bValue.toString().localeCompare(aValue.toString());
            });

            return (
                <div className="space-y-6">
                    {/* Header */}
                    <div className="flex items-start justify-between">
                        <div>
                            <div className="flex items-center gap-2 mb-2">
                                <h1 className="text-2xl font-bold text-slate-800">휴가 발생 규칙 관리</h1>
                                <button className="text-slate-400 hover:text-slate-600">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                            </div>
                            <p className="text-sm text-slate-500">
                                회사의 다양한 휴가 정책을 규칙으로 설정해 휴가를 자동 발생시키고 통합 관리할 수 있습니다.
                            </p>
                        </div>
                        <div className="flex items-center gap-2">
                            <button
                                onClick={openAddModal}
                                className="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2"
                            >
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                </svg>
                                휴가 발생 규칙 추가하기
                            </button>
                        </div>
                    </div>

                    {/* Table */}
                    <div className="bg-white rounded-xl border border-slate-200 overflow-hidden">
                        <div className="overflow-x-auto">
                            <table className="w-full">
                                <thead>
                                    <tr className="border-b border-slate-200">
                                        <th className="w-10 px-3 py-3">
                                            <input
                                                type="checkbox"
                                                checked={selectedRules.length === leaveRules.length && leaveRules.length > 0}
                                                onChange={(e) => handleSelectAll(e.target.checked)}
                                                className="rounded border-slate-300"
                                            />
                                        </th>
                                        {columns.map((col) => (
                                            <th key={col.id} className={`px-3 py-3 ${col.width}`}>
                                                <div className="space-y-1">
                                                    <input
                                                        type="text"
                                                        placeholder="검색.."
                                                        className="w-full px-2 py-1 text-xs border border-slate-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500"
                                                        onChange={(e) => setFilters({ ...filters, [col.id]: e.target.value })}
                                                    />
                                                    <button
                                                        onClick={() => col.sortable && handleSort(col.id)}
                                                        className={`text-xs font-medium text-left flex items-center gap-1 ${
                                                            col.sortable ? 'text-primary-600 hover:text-primary-700 cursor-pointer' : 'text-slate-600'
                                                        }`}
                                                    >
                                                        {col.label}
                                                        {col.sortable && sortField === col.id && (
                                                            <svg className={`w-3 h-3 ${sortDirection === 'desc' ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 15l7-7 7 7" />
                                                            </svg>
                                                        )}
                                                    </button>
                                                </div>
                                            </th>
                                        ))}
                                    </tr>
                                </thead>
                                <tbody>
                                    {sortedLeaveRules.map((rule) => (
                                        <tr
                                            key={rule.id}
                                            className="border-b border-slate-100 hover:bg-slate-50 cursor-pointer"
                                            onClick={() => openEditModal(rule)}
                                        >
                                            <td className="px-3 py-3" onClick={(e) => e.stopPropagation()}>
                                                <input
                                                    type="checkbox"
                                                    checked={selectedRules.includes(rule.id)}
                                                    onChange={(e) => handleSelectRule(rule.id, e.target.checked)}
                                                    className="rounded border-slate-300"
                                                />
                                            </td>
                                            <td className="px-3 py-3 text-sm text-slate-600">{rule.leaveGroup}</td>
                                            <td className="px-3 py-3 text-sm font-medium text-slate-800">{rule.ruleName}</td>
                                            <td className="px-3 py-3 text-sm text-slate-600">{rule.monthlyRules.length}개</td>
                                            <td className="px-3 py-3 text-sm text-slate-600">
                                                {rule.yearlyRules.length > 0 ? `${rule.yearlyRules.length}개` : '없음'}
                                            </td>
                                            <td className="px-3 py-3 text-sm text-slate-600">{rule.memo || '-'}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    {/* Add/Edit Leave Rule Modal */}
                    <AddLeaveRuleModal
                        isOpen={isModalOpen}
                        onClose={() => {
                            setIsModalOpen(false);
                            setEditData(null);
                        }}
                        onAdd={handleAddLeaveRule}
                        onUpdate={handleUpdateLeaveRule}
                        onDelete={handleDeleteLeaveRule}
                        editData={editData}
                    />
                </div>
            );
        };

        // Add Approval Rule Modal Component
        const AddApprovalRuleModal = ({ isOpen, onClose, onAdd, onUpdate, onDelete, editData = null, requestCategory = 'schedule' }) => {
            const requestTypes = {
                schedule: [
                    { id: 'create', label: '근무일정 생성' },
                    { id: 'delete', label: '근무일정 삭제' },
                    { id: 'modify', label: '근무일정 수정' }
                ],
                attendance: [
                    { id: 'create', label: '출퇴근기록 생성' },
                    { id: 'delete', label: '출퇴근기록 삭제' },
                    { id: 'modify', label: '출퇴근기록 수정' }
                ],
                leave: [
                    { id: 'create', label: '휴가 신청' },
                    { id: 'cancel', label: '휴가 취소' }
                ],
                checkInOut: [
                    { id: 'create', label: '출퇴근 신청' }
                ],
                device: [
                    { id: 'change', label: '기기 변경' }
                ],
                custom: [
                    { id: 'custom', label: '커스텀 요청' }
                ]
            };

            const [formData, setFormData] = useState({
                ruleName: editData?.ruleName || '',
                requestType: editData?.requestType || '',
                organization: editData?.organization || '모든 조직',
                position: editData?.position || '모든 직무',
                dayOfWeek: editData?.dayOfWeek || '모든 요일',
                scheduleType: editData?.scheduleType || '모든 근무일정 유형',
                priority: editData?.priority || 1,
                defaultApproval: editData?.defaultApproval || '1차: 승인 1개',
                defaultApproval2: editData?.defaultApproval2 || '사용안함',
                pastSchedule: editData?.pastSchedule || '1차: 승인 1개',
                pastSchedule2: editData?.pastSchedule2 || '사용안함',
                deemedWork: editData?.deemedWork || '1차: 승인 1개',
                deemedWork2: editData?.deemedWork2 || '사용안함',
                overtime: editData?.overtime || '1차: 승인 1개',
                overtime2: editData?.overtime2 || '사용안함',
                nightWork: editData?.nightWork || '1차: 승인 1개',
                nightWork2: editData?.nightWork2 || '사용안함',
                holidayWork: editData?.holidayWork || '1차: 승인 1개',
                holidayWork2: editData?.holidayWork2 || '사용안함',
                underWorkHours: editData?.underWorkHours || '1차: 승인 1개',
                underWorkHours2: editData?.underWorkHours2 || '사용안함',
                coreTimeViolation: editData?.coreTimeViolation || '1차: 승인 1개',
                coreTimeViolation2: editData?.coreTimeViolation2 || '사용안함',
                pastTagGrace: editData?.pastTagGrace ?? true,
                pastTagGraceValue: editData?.pastTagGraceValue || 30,
                pastTagGraceUnit: editData?.pastTagGraceUnit || '분',
                overtimeCalcBasis: editData?.overtimeCalcBasis || '승인된 유급시간',
                maxWorkCalcBasis: editData?.maxWorkCalcBasis || '승인된 근로시간',
                coreTimeEnabled: editData?.coreTimeEnabled ?? true,
                coreTimeStart: editData?.coreTimeStart || '10:00',
                coreTimeEnd: editData?.coreTimeEnd || '16:00',
                approverPosition: editData?.approverPosition || '모든 직무',
                ccEnabled: editData?.ccEnabled ?? true,
                ccPosition: editData?.ccPosition || '모든 직무',
                fileAttachment: editData?.fileAttachment || '선택사항',
                reasonRequired: editData?.reasonRequired ?? true,
                requestConfirmation: editData?.requestConfirmation ?? false,
                approvalConfirmation: editData?.approvalConfirmation ?? false,
                memo: editData?.memo || ''
            });

            useEffect(() => {
                if (editData) {
                    setFormData({
                        ruleName: editData.ruleName || '',
                        requestType: editData.requestType || '',
                        organization: editData.organization || '모든 조직',
                        position: editData.position || '모든 직무',
                        dayOfWeek: editData.dayOfWeek || '모든 요일',
                        scheduleType: editData.scheduleType || '모든 근무일정 유형',
                        priority: editData.priority || 1,
                        defaultApproval: editData.defaultApproval || '1차: 승인 1개',
                        defaultApproval2: editData.defaultApproval2 || '사용안함',
                        pastSchedule: editData.pastSchedule || '1차: 승인 1개',
                        pastSchedule2: editData.pastSchedule2 || '사용안함',
                        deemedWork: editData.deemedWork || '1차: 승인 1개',
                        deemedWork2: editData.deemedWork2 || '사용안함',
                        overtime: editData.overtime || '1차: 승인 1개',
                        overtime2: editData.overtime2 || '사용안함',
                        nightWork: editData.nightWork || '1차: 승인 1개',
                        nightWork2: editData.nightWork2 || '사용안함',
                        holidayWork: editData.holidayWork || '1차: 승인 1개',
                        holidayWork2: editData.holidayWork2 || '사용안함',
                        underWorkHours: editData.underWorkHours || '1차: 승인 1개',
                        underWorkHours2: editData.underWorkHours2 || '사용안함',
                        coreTimeViolation: editData.coreTimeViolation || '1차: 승인 1개',
                        coreTimeViolation2: editData.coreTimeViolation2 || '사용안함',
                        pastTagGrace: editData.pastTagGrace ?? true,
                        pastTagGraceValue: editData.pastTagGraceValue || 30,
                        pastTagGraceUnit: editData.pastTagGraceUnit || '분',
                        overtimeCalcBasis: editData.overtimeCalcBasis || '승인된 유급시간',
                        maxWorkCalcBasis: editData.maxWorkCalcBasis || '승인된 근로시간',
                        coreTimeEnabled: editData.coreTimeEnabled ?? true,
                        coreTimeStart: editData.coreTimeStart || '10:00',
                        coreTimeEnd: editData.coreTimeEnd || '16:00',
                        approverPosition: editData.approverPosition || '모든 직무',
                        ccEnabled: editData.ccEnabled ?? true,
                        ccPosition: editData.ccPosition || '모든 직무',
                        fileAttachment: editData.fileAttachment || '선택사항',
                        reasonRequired: editData.reasonRequired ?? true,
                        requestConfirmation: editData.requestConfirmation ?? false,
                        approvalConfirmation: editData.approvalConfirmation ?? false,
                        memo: editData.memo || ''
                    });
                } else {
                    setFormData({
                        ruleName: '',
                        requestType: '',
                        organization: '모든 조직',
                        position: '모든 직무',
                        dayOfWeek: '모든 요일',
                        scheduleType: '모든 근무일정 유형',
                        priority: 1,
                        defaultApproval: '1차: 승인 1개',
                        defaultApproval2: '사용안함',
                        pastSchedule: '1차: 승인 1개',
                        pastSchedule2: '사용안함',
                        deemedWork: '1차: 승인 1개',
                        deemedWork2: '사용안함',
                        overtime: '1차: 승인 1개',
                        overtime2: '사용안함',
                        nightWork: '1차: 승인 1개',
                        nightWork2: '사용안함',
                        holidayWork: '1차: 승인 1개',
                        holidayWork2: '사용안함',
                        underWorkHours: '1차: 승인 1개',
                        underWorkHours2: '사용안함',
                        coreTimeViolation: '1차: 승인 1개',
                        coreTimeViolation2: '사용안함',
                        pastTagGrace: true,
                        pastTagGraceValue: 30,
                        pastTagGraceUnit: '분',
                        overtimeCalcBasis: '승인된 유급시간',
                        maxWorkCalcBasis: '승인된 근로시간',
                        coreTimeEnabled: true,
                        coreTimeStart: '10:00',
                        coreTimeEnd: '16:00',
                        approverPosition: '모든 직무',
                        ccEnabled: true,
                        ccPosition: '모든 직무',
                        fileAttachment: '선택사항',
                        reasonRequired: true,
                        requestConfirmation: false,
                        approvalConfirmation: false,
                        memo: ''
                    });
                }
            }, [editData, isOpen]);

            const handleChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const handleSubmit = () => {
                if (editData) {
                    onUpdate({ ...formData, id: editData.id });
                } else {
                    onAdd(formData);
                }
                onClose();
            };

            const handleDelete = () => {
                if (editData && onDelete) {
                    onDelete(editData.id);
                    onClose();
                }
            };

            const isFormValid = formData.ruleName.trim() !== '' && formData.requestType !== '';
            const isScheduleCategory = requestCategory === 'schedule';

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 modal-overlay">
                    <div className="bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden modal-content">
                        {/* Header */}
                        <div className="flex items-center justify-between p-6 border-b border-slate-200">
                            <h2 className="text-xl font-semibold text-slate-800">
                                {editData ? '승인 규칙 수정하기' : '승인 규칙 추가하기'}
                            </h2>
                            <div className="flex items-center gap-2">
                                {editData && (
                                    <button className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                        </svg>
                                    </button>
                                )}
                                <button className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                                <button onClick={onClose} className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        {/* Body */}
                        <div className="p-6 overflow-y-auto max-h-[calc(90vh-180px)] space-y-5">
                            <div className="flex items-center gap-4">
                                <label className="w-20 text-sm text-slate-600">규칙명</label>
                                <input
                                    type="text"
                                    value={formData.ruleName}
                                    onChange={(e) => handleChange('ruleName', e.target.value)}
                                    className="flex-1 max-w-xs px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                />
                            </div>

                            <div className="flex items-center gap-4">
                                <label className="w-20 text-sm text-slate-600">요청 종류</label>
                                <select
                                    value={formData.requestType}
                                    onChange={(e) => handleChange('requestType', e.target.value)}
                                    className="flex-1 max-w-xs px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                >
                                    <option value=""></option>
                                    {requestTypes[requestCategory]?.map(type => (
                                        <option key={type.id} value={type.label}>{type.label}</option>
                                    ))}
                                </select>
                            </div>

                            {/* 적용 범위 및 우선순위 */}
                            <div className="bg-slate-100 px-4 py-2 -mx-6">
                                <span className="text-sm font-medium text-slate-700">적용 범위 및 우선순위</span>
                            </div>

                            <div className="grid grid-cols-4 gap-4 pt-2">
                                <div>
                                    <label className="block text-sm text-slate-600 mb-1 flex items-center gap-1">
                                        조직 <span className="text-slate-400 cursor-help">ⓘ</span>
                                    </label>
                                    <select
                                        value={formData.organization}
                                        onChange={(e) => handleChange('organization', e.target.value)}
                                        className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                    >
                                        <option value="모든 조직">모든 조직</option>
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-sm text-slate-600 mb-1 flex items-center gap-1">
                                        직무 <span className="text-slate-400 cursor-help">ⓘ</span>
                                    </label>
                                    <select
                                        value={formData.position}
                                        onChange={(e) => handleChange('position', e.target.value)}
                                        className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                    >
                                        <option value="모든 직무">모든 직무</option>
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-sm text-slate-600 mb-1 flex items-center gap-1">
                                        요일 <span className="text-slate-400 cursor-help">ⓘ</span>
                                    </label>
                                    <select
                                        value={formData.dayOfWeek}
                                        onChange={(e) => handleChange('dayOfWeek', e.target.value)}
                                        className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                    >
                                        <option value="모든 요일">모든 요일</option>
                                    </select>
                                </div>
                                {isScheduleCategory && (
                                    <div>
                                        <label className="block text-sm text-slate-600 mb-1">근무일정 유형</label>
                                        <select
                                            value={formData.scheduleType}
                                            onChange={(e) => handleChange('scheduleType', e.target.value)}
                                            className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                        >
                                            <option value="모든 근무일정 유형">모든 근무일정 유형</option>
                                        </select>
                                    </div>
                                )}
                            </div>

                            <div className="flex items-center gap-4">
                                <label className="w-20 text-sm text-slate-600">우선순위</label>
                                <input
                                    type="number"
                                    value={formData.priority}
                                    onChange={(e) => handleChange('priority', Number(e.target.value))}
                                    className="w-20 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                />
                            </div>

                            {/* 승인 설정 */}
                            <div className="bg-slate-100 px-4 py-2 -mx-6">
                                <span className="text-sm font-medium text-slate-700">승인 설정</span>
                            </div>

                            <div className="space-y-3 pt-2">
                                <div className="flex items-center gap-4">
                                    <label className="w-32 text-sm text-slate-600 flex items-center gap-1">
                                        기본 승인 설정 <span className="text-slate-400 cursor-help">ⓘ</span>
                                    </label>
                                    <select
                                        value={formData.defaultApproval}
                                        onChange={(e) => handleChange('defaultApproval', e.target.value)}
                                        className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                    >
                                        <option value="1차: 승인 1개">1차: 승인 1개</option>
                                        <option value="1차: 승인 2개">1차: 승인 2개</option>
                                    </select>
                                    <select
                                        value={formData.defaultApproval2}
                                        onChange={(e) => handleChange('defaultApproval2', e.target.value)}
                                        className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                    >
                                        <option value="사용안함">사용안함</option>
                                        <option value="2차: 승인 1개">2차: 승인 1개</option>
                                    </select>
                                </div>

                                {isScheduleCategory && (
                                    <>
                                        <div className="flex items-center gap-4">
                                            <label className="w-32 text-sm text-slate-600">과거 일정</label>
                                            <select
                                                value={formData.pastSchedule}
                                                onChange={(e) => handleChange('pastSchedule', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="1차: 승인 1개">1차: 승인 1개</option>
                                            </select>
                                            <select
                                                value={formData.pastSchedule2}
                                                onChange={(e) => handleChange('pastSchedule2', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="사용안함">사용안함</option>
                                            </select>
                                        </div>

                                        <div className="flex items-center gap-4">
                                            <label className="w-32 text-sm text-slate-600">간주근로</label>
                                            <select
                                                value={formData.deemedWork}
                                                onChange={(e) => handleChange('deemedWork', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="1차: 승인 1개">1차: 승인 1개</option>
                                            </select>
                                            <select
                                                value={formData.deemedWork2}
                                                onChange={(e) => handleChange('deemedWork2', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="사용안함">사용안함</option>
                                            </select>
                                        </div>

                                        <div className="flex items-center gap-4">
                                            <label className="w-32 text-sm text-slate-600 flex items-center gap-1">
                                                연장근무 <span className="text-slate-400 cursor-help">ⓘ</span>
                                            </label>
                                            <select
                                                value={formData.overtime}
                                                onChange={(e) => handleChange('overtime', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="1차: 승인 1개">1차: 승인 1개</option>
                                            </select>
                                            <select
                                                value={formData.overtime2}
                                                onChange={(e) => handleChange('overtime2', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="사용안함">사용안함</option>
                                            </select>
                                        </div>

                                        <div className="flex items-center gap-4">
                                            <label className="w-32 text-sm text-slate-600 flex items-center gap-1">
                                                야간근무 <span className="text-slate-400 cursor-help">ⓘ</span>
                                            </label>
                                            <select
                                                value={formData.nightWork}
                                                onChange={(e) => handleChange('nightWork', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="1차: 승인 1개">1차: 승인 1개</option>
                                            </select>
                                            <select
                                                value={formData.nightWork2}
                                                onChange={(e) => handleChange('nightWork2', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="사용안함">사용안함</option>
                                            </select>
                                        </div>

                                        <div className="flex items-center gap-4">
                                            <label className="w-32 text-sm text-slate-600 flex items-center gap-1">
                                                휴일근무 <span className="text-slate-400 cursor-help">ⓘ</span>
                                            </label>
                                            <select
                                                value={formData.holidayWork}
                                                onChange={(e) => handleChange('holidayWork', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="1차: 승인 1개">1차: 승인 1개</option>
                                            </select>
                                            <select
                                                value={formData.holidayWork2}
                                                onChange={(e) => handleChange('holidayWork2', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="사용안함">사용안함</option>
                                            </select>
                                        </div>

                                        <div className="flex items-center gap-4">
                                            <label className="w-32 text-sm text-slate-600">소정근로시간 미만</label>
                                            <select
                                                value={formData.underWorkHours}
                                                onChange={(e) => handleChange('underWorkHours', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="1차: 승인 1개">1차: 승인 1개</option>
                                            </select>
                                            <select
                                                value={formData.underWorkHours2}
                                                onChange={(e) => handleChange('underWorkHours2', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="사용안함">사용안함</option>
                                            </select>
                                        </div>

                                        <div className="flex items-center gap-4">
                                            <label className="w-32 text-sm text-slate-600">코어타임 미준수</label>
                                            <select
                                                value={formData.coreTimeViolation}
                                                onChange={(e) => handleChange('coreTimeViolation', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="1차: 승인 1개">1차: 승인 1개</option>
                                            </select>
                                            <select
                                                value={formData.coreTimeViolation2}
                                                onChange={(e) => handleChange('coreTimeViolation2', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="사용안함">사용안함</option>
                                            </select>
                                        </div>
                                    </>
                                )}
                            </div>

                            {/* 고급 설정 - 근무일정 카테고리만 */}
                            {isScheduleCategory && (
                                <>
                                    <div className="bg-slate-100 px-4 py-2 -mx-6">
                                        <span className="text-sm font-medium text-slate-700">고급 설정</span>
                                    </div>

                                    <div className="space-y-3 pt-2">
                                        <div className="flex items-center gap-4">
                                            <label className="flex items-center gap-2 text-sm text-slate-700">
                                                <input
                                                    type="checkbox"
                                                    checked={formData.pastTagGrace}
                                                    onChange={(e) => handleChange('pastTagGrace', e.target.checked)}
                                                    className="rounded border-slate-300 text-primary-600"
                                                />
                                                과거 태그 유예기간
                                            </label>
                                            <input
                                                type="number"
                                                value={formData.pastTagGraceValue}
                                                onChange={(e) => handleChange('pastTagGraceValue', Number(e.target.value))}
                                                disabled={!formData.pastTagGrace}
                                                className="w-16 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            />
                                            <select
                                                value={formData.pastTagGraceUnit}
                                                onChange={(e) => handleChange('pastTagGraceUnit', e.target.value)}
                                                disabled={!formData.pastTagGrace}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="분">분</option>
                                                <option value="시간">시간</option>
                                            </select>
                                        </div>

                                        <div className="flex items-center gap-4">
                                            <label className="w-36 text-sm text-slate-600">연장근무 태그 산정기준</label>
                                            <select
                                                value={formData.overtimeCalcBasis}
                                                onChange={(e) => handleChange('overtimeCalcBasis', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="승인된 유급시간">승인된 유급시간</option>
                                            </select>
                                        </div>

                                        <div className="flex items-center gap-4">
                                            <label className="w-36 text-sm text-slate-600">최대근로 태그 산정기준</label>
                                            <select
                                                value={formData.maxWorkCalcBasis}
                                                onChange={(e) => handleChange('maxWorkCalcBasis', e.target.value)}
                                                className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                            >
                                                <option value="승인된 근로시간">승인된 근로시간</option>
                                            </select>
                                        </div>

                                        <div className="flex items-center gap-4">
                                            <label className="flex items-center gap-2 text-sm text-slate-700">
                                                <input
                                                    type="checkbox"
                                                    checked={formData.coreTimeEnabled}
                                                    onChange={(e) => handleChange('coreTimeEnabled', e.target.checked)}
                                                    className="rounded border-slate-300 text-primary-600"
                                                />
                                                코어타임
                                            </label>
                                        </div>
                                        {formData.coreTimeEnabled && (
                                            <div className="flex items-center gap-2 ml-6">
                                                <input
                                                    type="text"
                                                    value={formData.coreTimeStart}
                                                    onChange={(e) => handleChange('coreTimeStart', e.target.value)}
                                                    placeholder="10:00"
                                                    className="w-20 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                                />
                                                <span className="text-slate-400">~</span>
                                                <input
                                                    type="text"
                                                    value={formData.coreTimeEnd}
                                                    onChange={(e) => handleChange('coreTimeEnd', e.target.value)}
                                                    placeholder="16:00"
                                                    className="w-20 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                                />
                                            </div>
                                        )}
                                    </div>
                                </>
                            )}

                            {/* 승인권자 직무 */}
                            <div className="bg-slate-100 px-4 py-2 -mx-6 flex items-center gap-1">
                                <span className="text-sm font-medium text-slate-700">승인권자 직무</span>
                                <span className="text-slate-400 cursor-help">ⓘ</span>
                            </div>

                            <div className="flex items-center gap-4 pt-2">
                                <label className="text-sm text-slate-600">1차</label>
                                <select
                                    value={formData.approverPosition}
                                    onChange={(e) => handleChange('approverPosition', e.target.value)}
                                    className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                >
                                    <option value="모든 직무">모든 직무</option>
                                </select>
                            </div>

                            {/* 참조 설정 */}
                            <div className="bg-slate-100 px-4 py-2 -mx-6">
                                <span className="text-sm font-medium text-slate-700">참조 설정</span>
                            </div>

                            <div className="flex items-center gap-4 pt-2">
                                <label className="flex items-center gap-2 text-sm text-slate-700">
                                    <input
                                        type="checkbox"
                                        checked={formData.ccEnabled}
                                        onChange={(e) => handleChange('ccEnabled', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    참조자 직무
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>
                                {formData.ccEnabled && (
                                    <select
                                        value={formData.ccPosition}
                                        onChange={(e) => handleChange('ccPosition', e.target.value)}
                                        className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                    >
                                        <option value="모든 직무">모든 직무</option>
                                    </select>
                                )}
                            </div>

                            {/* 파일 첨부 설정 */}
                            <div className="bg-slate-100 px-4 py-2 -mx-6">
                                <span className="text-sm font-medium text-slate-700">파일 첨부 설정</span>
                            </div>

                            <div className="flex items-center gap-4 pt-2">
                                <label className="text-sm text-slate-600 flex items-center gap-1">
                                    파일 첨부
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>
                                <select
                                    value={formData.fileAttachment}
                                    onChange={(e) => handleChange('fileAttachment', e.target.value)}
                                    className="px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 text-sm"
                                >
                                    <option value="선택사항">선택사항</option>
                                    <option value="필수">필수</option>
                                    <option value="사용안함">사용안함</option>
                                </select>
                            </div>

                            <div className="space-y-3 pt-4">
                                <label className="flex items-center gap-2 text-sm text-slate-700">
                                    <input
                                        type="checkbox"
                                        checked={formData.reasonRequired}
                                        onChange={(e) => handleChange('reasonRequired', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    사유 필수 여부
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>

                                <label className="flex items-center gap-2 text-sm text-slate-700">
                                    <input
                                        type="checkbox"
                                        checked={formData.requestConfirmation}
                                        onChange={(e) => handleChange('requestConfirmation', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    요청 시 확인사항
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>

                                <label className="flex items-center gap-2 text-sm text-slate-700">
                                    <input
                                        type="checkbox"
                                        checked={formData.approvalConfirmation}
                                        onChange={(e) => handleChange('approvalConfirmation', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    승인 시 확인사항
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>
                            </div>

                            <div>
                                <label className="block text-sm text-slate-600 mb-2">메모</label>
                                <textarea
                                    value={formData.memo}
                                    onChange={(e) => handleChange('memo', e.target.value)}
                                    className="w-full h-24 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"
                                />
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="flex items-center justify-between p-6 border-t border-slate-200">
                            <div>
                                {editData && (
                                    <button
                                        onClick={handleDelete}
                                        className="px-4 py-2 text-red-500 border border-red-300 rounded-lg hover:bg-red-50 transition-colors"
                                    >
                                        삭제하기
                                    </button>
                                )}
                            </div>
                            <div className="flex items-center gap-3">
                                <button
                                    onClick={onClose}
                                    className="px-6 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors"
                                >
                                    닫기
                                </button>
                                <button
                                    onClick={handleSubmit}
                                    disabled={!isFormValid}
                                    className={`px-6 py-2 rounded-lg transition-colors ${
                                        isFormValid
                                            ? 'bg-primary-600 text-white hover:bg-primary-700'
                                            : 'bg-slate-300 text-slate-500 cursor-not-allowed'
                                    }`}
                                >
                                    {editData ? '변경사항 저장' : '추가하기'}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Approval Rule Settings Component
        const ApprovalRuleSettings = () => {
            const toast = useToast();
            const [activeTab, setActiveTab] = useState('schedule');
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [editData, setEditData] = useState(null);
            const [selectedRules, setSelectedRules] = useState([]);
            const [filters, setFilters] = useState({});
            const [sortField, setSortField] = useState('requestType');
            const [sortDirection, setSortDirection] = useState('asc');

            const tabs = [
                { id: 'schedule', label: '근무일정' },
                { id: 'attendance', label: '출퇴근기록' },
                { id: 'leave', label: '휴가' },
                { id: 'checkInOut', label: '출퇴근' },
                { id: 'device', label: '기기 변경' },
                { id: 'custom', label: '커스텀 요청' }
            ];

            const categoryTitles = {
                schedule: '근무일정',
                attendance: '출퇴근기록',
                leave: '휴가',
                checkInOut: '출퇴근',
                device: '기기 변경',
                custom: '커스텀 요청'
            };

            const initialRules = {
                schedule: [
                    {
                        id: 1,
                        ruleName: '(기본) 근무일정 생성 요청',
                        requestType: '근무일정 생성',
                        scope: '모든 조직 | 모든 직무 | 모든 요일',
                        priority: 999,
                        approvalSettings: [
                            '승인권자 직무: 모든 직무',
                            '기본 승인 설정: 승인 1개',
                            '과거 일정: 승인 1개',
                            '간주근로: 승인 1개',
                            '연장근무: 승인 1개',
                            '야간근무: 승인 1개',
                            '휴일근무: 승인 1개',
                            '소정근로시간 미만: 승인 1개',
                            '코어타임 미준수(10:00~16:00): 승인 1개'
                        ],
                        ccSetting: '모든 직무',
                        reasonRequired: true,
                        fileAttachment: '선택사항',
                        requestConfirmation: false,
                        memo: ''
                    },
                    {
                        id: 2,
                        ruleName: '(기본) 근무일정 삭제 요청',
                        requestType: '근무일정 삭제',
                        scope: '모든 조직 | 모든 직무 | 모든 요일',
                        priority: 999,
                        approvalSettings: [
                            '승인권자 직무: 모든 직무',
                            '기본 승인 설정: 승인 1개',
                            '과거 일정: 승인 1개',
                            '소정근로시간 미만: 승인 1개'
                        ],
                        ccSetting: '모든 직무',
                        reasonRequired: true,
                        fileAttachment: '선택사항',
                        requestConfirmation: false,
                        memo: ''
                    },
                    {
                        id: 3,
                        ruleName: '(기본) 근무일정 수정 요청',
                        requestType: '근무일정 수정',
                        scope: '모든 조직 | 모든 직무 | 모든 요일',
                        priority: 999,
                        approvalSettings: [
                            '승인권자 직무: 모든 직무',
                            '기본 승인 설정: 승인 1개',
                            '과거 일정: 승인 1개',
                            '간주근로: 승인 1개',
                            '연장근무: 승인 1개',
                            '야간근무: 승인 1개',
                            '휴일근무: 승인 1개',
                            '소정근로시간 미만: 승인 1개',
                            '코어타임 미준수(10:00~16:00): 승인 1개'
                        ],
                        ccSetting: '모든 직무',
                        reasonRequired: true,
                        fileAttachment: '선택사항',
                        requestConfirmation: false,
                        memo: ''
                    }
                ],
                attendance: [
                    {
                        id: 1,
                        ruleName: '(기본) 출퇴근기록 생성 요청',
                        requestType: '출퇴근기록 생성',
                        scope: '모든 조직 | 모든 직무 | 모든 요일',
                        priority: 999,
                        approvalSettings: [
                            '승인권자 직무: 모든 직무',
                            '기본 승인 설정: 승인 1개',
                            '과거 기록: 승인 1개'
                        ],
                        ccSetting: '모든 직무',
                        reasonRequired: true,
                        fileAttachment: '선택사항',
                        requestConfirmation: false,
                        memo: ''
                    },
                    {
                        id: 2,
                        ruleName: '(기본) 출퇴근기록 삭제 요청',
                        requestType: '출퇴근기록 삭제',
                        scope: '모든 조직 | 모든 직무 | 모든 요일',
                        priority: 999,
                        approvalSettings: [
                            '승인권자 직무: 모든 직무',
                            '기본 승인 설정: 승인 1개',
                            '과거 기록: 승인 1개'
                        ],
                        ccSetting: '모든 직무',
                        reasonRequired: true,
                        fileAttachment: '선택사항',
                        requestConfirmation: false,
                        memo: ''
                    },
                    {
                        id: 3,
                        ruleName: '(기본) 출퇴근기록 수정 요청',
                        requestType: '출퇴근기록 수정',
                        scope: '모든 조직 | 모든 직무 | 모든 요일',
                        priority: 999,
                        approvalSettings: [
                            '승인권자 직무: 모든 직무',
                            '기본 승인 설정: 승인 1개',
                            '과거 기록: 승인 1개'
                        ],
                        ccSetting: '모든 직무',
                        reasonRequired: true,
                        fileAttachment: '선택사항',
                        requestConfirmation: false,
                        memo: ''
                    }
                ]
            };

            const [approvalRules, setApprovalRules] = useState(initialRules[activeTab] || []);

            useEffect(() => {
                setApprovalRules(initialRules[activeTab] || []);
                setSelectedRules([]);
            }, [activeTab]);

            const columns = [
                { id: 'ruleName', label: '규칙명', width: 'w-44' },
                { id: 'requestType', label: '요청 종류', width: 'w-28', sortable: true },
                { id: 'scope', label: '적용 범위', width: 'w-48' },
                { id: 'priority', label: '적용 우선순위', width: 'w-28' },
                { id: 'approvalSettings', label: '승인 설정', width: 'w-64' },
                { id: 'ccSetting', label: '참조 설정', width: 'w-24' },
                { id: 'reasonRequired', label: '사유 필수 여부', width: 'w-28' },
                { id: 'fileAttachment', label: '파일 첨부', width: 'w-24' },
                { id: 'requestConfirmation', label: '요청 시 확인사항', width: 'w-32' },
                { id: 'memo', label: '메모', width: 'w-20' }
            ];

            const handleSort = (field) => {
                if (sortField === field) {
                    setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');
                } else {
                    setSortField(field);
                    setSortDirection('asc');
                }
            };

            const handleSelectAll = (checked) => {
                if (checked) {
                    setSelectedRules(approvalRules.map(r => r.id));
                } else {
                    setSelectedRules([]);
                }
            };

            const handleSelectRule = (id, checked) => {
                if (checked) {
                    setSelectedRules([...selectedRules, id]);
                } else {
                    setSelectedRules(selectedRules.filter(r => r !== id));
                }
            };

            const handleAddApprovalRule = (data) => {
                const newRule = {
                    id: Math.max(...approvalRules.map(r => r.id), 0) + 1,
                    ruleName: data.ruleName,
                    requestType: data.requestType,
                    scope: `${data.organization} | ${data.position} | ${data.dayOfWeek}`,
                    priority: data.priority,
                    approvalSettings: [
                        `승인권자 직무: ${data.approverPosition}`,
                        `기본 승인 설정: 승인 1개`
                    ],
                    ccSetting: data.ccEnabled ? data.ccPosition : '-',
                    reasonRequired: data.reasonRequired,
                    fileAttachment: data.fileAttachment,
                    requestConfirmation: data.requestConfirmation,
                    memo: data.memo
                };
                setApprovalRules([...approvalRules, newRule]);
                toast.addToast('승인 규칙이 추가되었습니다.', 'success');
            };

            const handleUpdateApprovalRule = (data) => {
                setApprovalRules(approvalRules.map(rule => {
                    if (rule.id === data.id) {
                        return {
                            ...rule,
                            ruleName: data.ruleName,
                            requestType: data.requestType,
                            scope: `${data.organization} | ${data.position} | ${data.dayOfWeek}`,
                            priority: data.priority,
                            ccSetting: data.ccEnabled ? data.ccPosition : '-',
                            reasonRequired: data.reasonRequired,
                            fileAttachment: data.fileAttachment,
                            requestConfirmation: data.requestConfirmation,
                            memo: data.memo
                        };
                    }
                    return rule;
                }));
                toast.addToast('승인 규칙이 수정되었습니다.', 'success');
            };

            const handleDeleteApprovalRule = (id) => {
                setApprovalRules(approvalRules.filter(rule => rule.id !== id));
                toast.addToast('승인 규칙이 삭제되었습니다.', 'success');
            };

            const openAddModal = () => {
                setEditData(null);
                setIsModalOpen(true);
            };

            const openEditModal = (rule) => {
                const [org, pos, day] = rule.scope.split(' | ');
                setEditData({
                    ...rule,
                    organization: org,
                    position: pos,
                    dayOfWeek: day,
                    approverPosition: '모든 직무',
                    ccEnabled: rule.ccSetting !== '-',
                    ccPosition: rule.ccSetting !== '-' ? rule.ccSetting : '모든 직무'
                });
                setIsModalOpen(true);
            };

            const sortedApprovalRules = [...approvalRules].sort((a, b) => {
                const aValue = a[sortField] || '';
                const bValue = b[sortField] || '';
                if (sortDirection === 'asc') {
                    return aValue.toString().localeCompare(bValue.toString());
                }
                return bValue.toString().localeCompare(aValue.toString());
            });

            return (
                <div className="space-y-6">
                    {/* Header */}
                    <div className="flex items-start justify-between">
                        <div>
                            <div className="flex items-center gap-2 mb-2">
                                <h1 className="text-2xl font-bold text-slate-800">승인 규칙 관리</h1>
                                <button className="text-slate-400 hover:text-slate-600">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                            </div>
                            <p className="text-sm text-slate-500">
                                각 요청별로 승인에 필요한 세부 규칙을 설정할 수 있습니다. 결재라인과 결재 차수, 참조자 설정 등 회사에 맞게 승인 규칙을 설정하세요.
                            </p>
                        </div>
                        <div className="flex items-center gap-2">
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                다운로드
                            </button>
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                업로드
                            </button>
                            <button
                                onClick={openAddModal}
                                className="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2"
                            >
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                </svg>
                                승인 규칙 추가하기
                            </button>
                        </div>
                    </div>

                    {/* Table with Tabs */}
                    <div className="bg-white rounded-xl border border-slate-200 overflow-hidden">
                        {/* Sub-tabs */}
                        <div className="flex justify-end border-b border-slate-200 px-4 py-2">
                            <div className="flex bg-slate-100 rounded-lg p-1">
                                {tabs.map((tab) => (
                                    <button
                                        key={tab.id}
                                        onClick={() => setActiveTab(tab.id)}
                                        className={`px-4 py-2 text-sm font-medium rounded-md transition-all ${
                                            activeTab === tab.id
                                                ? 'bg-white text-slate-800 shadow-sm'
                                                : 'text-slate-600 hover:text-slate-800'
                                        }`}
                                    >
                                        {tab.label}
                                    </button>
                                ))}
                            </div>
                        </div>
                        <div className="overflow-x-auto">
                            <table className="w-full min-w-[1800px]">
                                <thead>
                                    <tr className="border-b border-slate-200">
                                        <th className="w-10 px-3 py-3">
                                            <input
                                                type="checkbox"
                                                checked={selectedRules.length === approvalRules.length && approvalRules.length > 0}
                                                onChange={(e) => handleSelectAll(e.target.checked)}
                                                className="rounded border-slate-300"
                                            />
                                        </th>
                                        {columns.map((col) => (
                                            <th key={col.id} className={`px-2 py-3 ${col.width}`}>
                                                <div className="space-y-1">
                                                    <input
                                                        type="text"
                                                        placeholder="검색.."
                                                        className="w-full px-2 py-1 text-xs border border-slate-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500"
                                                        onChange={(e) => setFilters({ ...filters, [col.id]: e.target.value })}
                                                    />
                                                    <button
                                                        onClick={() => col.sortable && handleSort(col.id)}
                                                        className={`text-xs font-medium text-left flex items-center gap-1 ${
                                                            col.sortable ? 'text-primary-600 hover:text-primary-700 cursor-pointer' : 'text-slate-600'
                                                        }`}
                                                    >
                                                        {col.label}
                                                        {col.sortable && sortField === col.id && (
                                                            <svg className={`w-3 h-3 ${sortDirection === 'desc' ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 15l7-7 7 7" />
                                                            </svg>
                                                        )}
                                                    </button>
                                                </div>
                                            </th>
                                        ))}
                                    </tr>
                                </thead>
                                <tbody>
                                    {sortedApprovalRules.map((rule) => (
                                        <tr
                                            key={rule.id}
                                            className="border-b border-slate-100 hover:bg-slate-50 cursor-pointer"
                                            onClick={() => openEditModal(rule)}
                                        >
                                            <td className="px-3 py-3 align-top" onClick={(e) => e.stopPropagation()}>
                                                <input
                                                    type="checkbox"
                                                    checked={selectedRules.includes(rule.id)}
                                                    onChange={(e) => handleSelectRule(rule.id, e.target.checked)}
                                                    className="rounded border-slate-300"
                                                />
                                            </td>
                                            <td className="px-2 py-3 text-sm font-medium text-slate-800 align-top">{rule.ruleName}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600 align-top">{rule.requestType}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600 align-top">{rule.scope}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600 align-top">{rule.priority}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600 align-top">
                                                <div className="space-y-1">
                                                    {rule.approvalSettings.map((setting, idx) => (
                                                        <div key={idx}>{setting}</div>
                                                    ))}
                                                </div>
                                            </td>
                                            <td className="px-2 py-3 text-sm text-slate-600 align-top">{rule.ccSetting}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600 align-top">{rule.reasonRequired ? 'O' : 'X'}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600 align-top">{rule.fileAttachment}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600 align-top">{rule.requestConfirmation ? 'O' : '-'}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600 align-top">{rule.memo || '-'}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    {/* Add/Edit Approval Rule Modal */}
                    <AddApprovalRuleModal
                        isOpen={isModalOpen}
                        onClose={() => {
                            setIsModalOpen(false);
                            setEditData(null);
                        }}
                        onAdd={handleAddApprovalRule}
                        onUpdate={handleUpdateApprovalRule}
                        onDelete={handleDeleteApprovalRule}
                        editData={editData}
                        requestCategory={activeTab}
                    />
                </div>
            );
        };

        // Add Schedule Type Modal Component
        const AddScheduleTypeModal = ({ isOpen, onClose, onAdd, editData = null }) => {
            const colors = [
                '#4CAF50', '#8BC34A', '#CDDC39', '#FFEB3B', '#FFC107',
                '#FF9800', '#FF5722', '#F44336', '#E91E63', '#9C27B0',
                '#673AB7', '#3F51B5', '#2196F3', '#03A9F4', '#00BCD4',
                '#009688', '#795548', '#607D8B', '#9E9E9E', '#000000'
            ];

            const [formData, setFormData] = useState({
                name: editData?.name || '',
                color: editData?.color || '#FFB74D',
                organization: editData?.organization || '(모든 조직)',
                position: editData?.position || '(모든 직무)',
                allowCheckIn: editData?.allowCheckIn ?? true,
                overtimeSchedule: editData?.overtimeSchedule ?? false,
                noLeaveWork: editData?.noLeaveWork ?? false,
                noHolidayWork: editData?.noHolidayWork ?? false,
                deemedWork: editData?.deemedWork ?? false,
                deemedWorkHours: editData?.deemedWorkHours || '',
                preCheckIn: editData?.preCheckIn ?? false,
                savedNotes: editData?.savedNotes ?? false,
                memo: editData?.memo || ''
            });
            const [showColorPicker, setShowColorPicker] = useState(false);

            const handleChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            const handleSubmit = () => {
                onAdd(formData);
                onClose();
            };

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 bg-black/50 flex items-center justify-center z-50 modal-overlay">
                    <div className="bg-white rounded-2xl w-full max-w-xl max-h-[90vh] overflow-hidden modal-content">
                        {/* Header */}
                        <div className="flex items-center justify-between p-6 border-b border-slate-200">
                            <h2 className="text-xl font-semibold text-slate-800">
                                {editData ? '근무일정 유형 수정하기' : '근무일정 유형 추가하기'}
                            </h2>
                            <div className="flex items-center gap-2">
                                {editData && (
                                    <button className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                        </svg>
                                    </button>
                                )}
                                <button className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                                <button onClick={onClose} className="p-2 hover:bg-slate-100 rounded-lg text-slate-400">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        {/* Body */}
                        <div className="p-6 overflow-y-auto max-h-[calc(90vh-180px)] space-y-5">
                            <div>
                                <label className="block text-sm text-slate-600 mb-2">근무일정 유형명</label>
                                <input
                                    type="text"
                                    value={formData.name}
                                    onChange={(e) => handleChange('name', e.target.value)}
                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                />
                            </div>

                            <div>
                                <label className="block text-sm text-slate-600 mb-2">색깔</label>
                                <div className="relative">
                                    <button
                                        type="button"
                                        onClick={() => setShowColorPicker(!showColorPicker)}
                                        className="flex items-center gap-2 px-3 py-2 border border-slate-300 rounded-lg hover:bg-slate-50"
                                    >
                                        <div
                                            className="w-6 h-6 rounded border border-slate-300"
                                            style={{ backgroundColor: formData.color }}
                                        />
                                        <svg className="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                        </svg>
                                    </button>
                                    {showColorPicker && (
                                        <div className="absolute top-full left-0 mt-1 p-2 bg-white border border-slate-200 rounded-lg shadow-lg z-10">
                                            <div className="grid grid-cols-5 gap-1">
                                                {colors.map((color) => (
                                                    <button
                                                        key={color}
                                                        type="button"
                                                        onClick={() => {
                                                            handleChange('color', color);
                                                            setShowColorPicker(false);
                                                        }}
                                                        className={`w-6 h-6 rounded border ${formData.color === color ? 'ring-2 ring-primary-500' : 'border-slate-300'}`}
                                                        style={{ backgroundColor: color }}
                                                    />
                                                ))}
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm text-slate-600 mb-2">조직</label>
                                <select
                                    value={formData.organization}
                                    onChange={(e) => handleChange('organization', e.target.value)}
                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                >
                                    <option value="(모든 조직)">(모든 조직)</option>
                                </select>
                            </div>

                            <div>
                                <label className="block text-sm text-slate-600 mb-2">직무</label>
                                <select
                                    value={formData.position}
                                    onChange={(e) => handleChange('position', e.target.value)}
                                    className="w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                >
                                    <option value="(모든 직무)">(모든 직무)</option>
                                </select>
                            </div>

                            <div className="space-y-4 pt-2">
                                <label className="flex items-center gap-2 text-sm text-slate-700">
                                    <input
                                        type="checkbox"
                                        checked={formData.allowCheckIn}
                                        onChange={(e) => handleChange('allowCheckIn', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    출근 가능 여부
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>

                                <label className="flex items-center gap-2 text-sm text-slate-700">
                                    <input
                                        type="checkbox"
                                        checked={formData.overtimeSchedule}
                                        onChange={(e) => handleChange('overtimeSchedule', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    연장근무일정 여부
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>

                                <label className="flex items-center gap-2 text-sm text-slate-700">
                                    <input
                                        type="checkbox"
                                        checked={formData.noLeaveWork}
                                        onChange={(e) => handleChange('noLeaveWork', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    휴무근로 미적용 여부
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>

                                <label className="flex items-center gap-2 text-sm text-slate-700">
                                    <input
                                        type="checkbox"
                                        checked={formData.noHolidayWork}
                                        onChange={(e) => handleChange('noHolidayWork', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    휴일근로 미적용 여부
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>

                                <div>
                                    <label className="flex items-center gap-2 text-sm text-slate-700">
                                        <input
                                            type="checkbox"
                                            checked={formData.deemedWork}
                                            onChange={(e) => handleChange('deemedWork', e.target.checked)}
                                            className="rounded border-slate-300 text-primary-600"
                                        />
                                        간주근로 여부
                                        <span className="text-slate-400 cursor-help">ⓘ</span>
                                    </label>
                                    <div className="ml-6 mt-2 flex items-center gap-2">
                                        <span className="text-sm text-slate-600">간주근로의 고정근무시간 (선택)</span>
                                        <input
                                            type="text"
                                            value={formData.deemedWork ? formData.deemedWorkHours : ''}
                                            onChange={(e) => handleChange('deemedWorkHours', e.target.value)}
                                            placeholder={formData.deemedWork ? '' : '제한없음'}
                                            disabled={!formData.deemedWork}
                                            className={`w-20 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${!formData.deemedWork ? 'bg-slate-100 text-slate-400' : ''}`}
                                        />
                                        <span className={`px-3 py-2 rounded-lg ${formData.deemedWork ? 'bg-slate-100 text-slate-600' : 'bg-slate-100 text-slate-400'}`}>시간</span>
                                    </div>
                                </div>

                                <label className="flex items-center gap-2 text-sm text-slate-700">
                                    <input
                                        type="checkbox"
                                        checked={formData.preCheckIn}
                                        onChange={(e) => handleChange('preCheckIn', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    출근 전 확인사항
                                    <span className="text-slate-400 cursor-help">ⓘ</span>
                                </label>

                                <label className="flex items-center gap-2 text-sm text-slate-700">
                                    <input
                                        type="checkbox"
                                        checked={formData.savedNotes}
                                        onChange={(e) => handleChange('savedNotes', e.target.checked)}
                                        className="rounded border-slate-300 text-primary-600"
                                    />
                                    저장된 일정노트 목록
                                </label>
                            </div>

                            <div className="pt-2">
                                <label className="block text-sm text-slate-600 mb-2">메모</label>
                                <textarea
                                    value={formData.memo}
                                    onChange={(e) => handleChange('memo', e.target.value)}
                                    className="w-full h-24 px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"
                                />
                            </div>
                        </div>

                        {/* Footer */}
                        <div className="flex items-center justify-between p-6 border-t border-slate-200">
                            <div>
                                {editData && (
                                    <button className="px-4 py-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors">
                                        삭제하기
                                    </button>
                                )}
                            </div>
                            <div className="flex items-center gap-3">
                                <button
                                    onClick={onClose}
                                    className="px-6 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors"
                                >
                                    닫기
                                </button>
                                <button
                                    onClick={handleSubmit}
                                    className={`px-6 py-2 rounded-lg transition-colors ${
                                        editData
                                            ? 'bg-primary-600 text-white hover:bg-primary-700'
                                            : 'bg-slate-400 text-white hover:bg-slate-500'
                                    }`}
                                >
                                    {editData ? '변경사항 저장' : '추가하기'}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Schedule Type Settings Component
        const ScheduleTypeSettings = () => {
            const toast = useToast();
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [editData, setEditData] = useState(null);
            const [selectedTypes, setSelectedTypes] = useState([]);
            const [filters, setFilters] = useState({});
            const [sortField, setSortField] = useState('name');
            const [sortDirection, setSortDirection] = useState('asc');

            const [scheduleTypes, setScheduleTypes] = useState([
                {
                    id: 1,
                    name: '외근',
                    color: '#4CAF50',
                    organization: '모든 조직',
                    position: '모든 직무',
                    allowCheckIn: 'O',
                    overtimeSchedule: 'X',
                    noLeaveWork: 'X',
                    noHolidayWork: 'X',
                    deemedWork: 'O',
                    deemedWorkHours: '9h',
                    preCheckIn: '',
                    savedNotes: '',
                    memo: '',
                    createdAt: '2026/01/28 09:05:52'
                },
                {
                    id: 2,
                    name: '재택근무',
                    color: '#FFB74D',
                    organization: '모든 조직',
                    position: '모든 직무',
                    allowCheckIn: 'O',
                    overtimeSchedule: 'X',
                    noLeaveWork: 'X',
                    noHolidayWork: 'X',
                    deemedWork: 'O',
                    deemedWorkHours: '',
                    preCheckIn: '',
                    savedNotes: '',
                    memo: '',
                    createdAt: '2026/01/28 09:05:52'
                }
            ]);

            const columns = [
                { id: 'name', label: '근무일정 유형명', width: 'w-28', sortable: true },
                { id: 'color', label: '색깔', width: 'w-16' },
                { id: 'organization', label: '조직', width: 'w-20' },
                { id: 'position', label: '직무', width: 'w-20' },
                { id: 'allowCheckIn', label: '출근 가능 여부', width: 'w-24' },
                { id: 'overtimeSchedule', label: '연장근무일정 여부', width: 'w-28' },
                { id: 'noLeaveWork', label: '휴무근로 미적용', width: 'w-28' },
                { id: 'noHolidayWork', label: '휴일근로 미적용 여부', width: 'w-32' },
                { id: 'deemedWork', label: '간주근로 여부', width: 'w-24' },
                { id: 'deemedWorkHours', label: '간주근로의 고정근무시간', width: 'w-36' },
                { id: 'preCheckIn', label: '출근 전 확인사항', width: 'w-28' },
                { id: 'savedNotes', label: '저장된 일정노트 목록', width: 'w-32' },
                { id: 'memo', label: '메모', width: 'w-20' },
                { id: 'createdAt', label: '생성일자', width: 'w-36' }
            ];

            const handleSort = (field) => {
                if (sortField === field) {
                    setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');
                } else {
                    setSortField(field);
                    setSortDirection('asc');
                }
            };

            const handleSelectAll = (checked) => {
                if (checked) {
                    setSelectedTypes(scheduleTypes.map(t => t.id));
                } else {
                    setSelectedTypes([]);
                }
            };

            const handleSelectType = (id, checked) => {
                if (checked) {
                    setSelectedTypes([...selectedTypes, id]);
                } else {
                    setSelectedTypes(selectedTypes.filter(t => t !== id));
                }
            };

            const handleAddScheduleType = (data) => {
                const newType = {
                    id: scheduleTypes.length + 1,
                    name: data.name,
                    color: data.color,
                    organization: data.organization === '(모든 조직)' ? '모든 조직' : data.organization,
                    position: data.position === '(모든 직무)' ? '모든 직무' : data.position,
                    allowCheckIn: data.allowCheckIn ? 'O' : 'X',
                    overtimeSchedule: data.overtimeSchedule ? 'O' : 'X',
                    noLeaveWork: data.noLeaveWork ? 'O' : 'X',
                    noHolidayWork: data.noHolidayWork ? 'O' : 'X',
                    deemedWork: data.deemedWork ? 'O' : 'X',
                    deemedWorkHours: data.deemedWorkHours ? `${data.deemedWorkHours}h` : '',
                    preCheckIn: data.preCheckIn ? 'O' : '',
                    savedNotes: data.savedNotes ? 'O' : '',
                    memo: data.memo,
                    createdAt: new Date().toLocaleString('ko-KR', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit' }).replace(/\./g, '/').replace(' ', ' ')
                };
                setScheduleTypes([...scheduleTypes, newType]);
                toast.addToast('근무일정 유형이 추가되었습니다.', 'success');
                setEditData(null);
            };

            const openAddModal = () => {
                setEditData(null);
                setIsModalOpen(true);
            };

            return (
                <div className="space-y-6">
                    {/* Header */}
                    <div className="flex items-start justify-between">
                        <div>
                            <div className="flex items-center gap-2 mb-2">
                                <h1 className="text-2xl font-bold text-slate-800">근무일정 유형 관리</h1>
                                <button className="text-slate-400 hover:text-slate-600">
                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </button>
                            </div>
                            <p className="text-sm text-slate-500">
                                외근, 출장, 재택근무 등 다양한 근무 유형을 관리하고, 근무일정에 적용할 수 있습니다.
                            </p>
                        </div>
                        <div className="flex items-center gap-2">
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                다운로드
                            </button>
                            <button className="px-4 py-2 border border-slate-300 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors">
                                업로드
                            </button>
                            <button
                                onClick={openAddModal}
                                className="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2"
                            >
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                </svg>
                                근무일정 유형 추가하기
                            </button>
                        </div>
                    </div>

                    {/* Table */}
                    <div className="bg-white rounded-xl border border-slate-200 overflow-hidden">
                        <div className="overflow-x-auto">
                            <table className="w-full min-w-[1600px]">
                                <thead>
                                    <tr className="border-b border-slate-200">
                                        <th className="w-10 px-3 py-3">
                                            <input
                                                type="checkbox"
                                                checked={selectedTypes.length === scheduleTypes.length && scheduleTypes.length > 0}
                                                onChange={(e) => handleSelectAll(e.target.checked)}
                                                className="rounded border-slate-300"
                                            />
                                        </th>
                                        {columns.map((col) => (
                                            <th key={col.id} className={`px-2 py-3 ${col.width}`}>
                                                <div className="space-y-1">
                                                    <input
                                                        type="text"
                                                        placeholder="검색.."
                                                        className="w-full px-2 py-1 text-xs border border-slate-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500"
                                                        onChange={(e) => setFilters({ ...filters, [col.id]: e.target.value })}
                                                    />
                                                    <button
                                                        onClick={() => col.sortable && handleSort(col.id)}
                                                        className={`text-xs font-medium text-left flex items-center gap-1 ${
                                                            col.sortable ? 'text-primary-600 hover:text-primary-700 cursor-pointer' : 'text-slate-600'
                                                        }`}
                                                    >
                                                        {col.label}
                                                        {col.sortable && sortField === col.id && (
                                                            <svg className={`w-3 h-3 ${sortDirection === 'desc' ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 15l7-7 7 7" />
                                                            </svg>
                                                        )}
                                                    </button>
                                                </div>
                                            </th>
                                        ))}
                                    </tr>
                                </thead>
                                <tbody>
                                    {scheduleTypes.map((type) => (
                                        <tr key={type.id} className="border-b border-slate-100 hover:bg-slate-50">
                                            <td className="px-3 py-3">
                                                <input
                                                    type="checkbox"
                                                    checked={selectedTypes.includes(type.id)}
                                                    onChange={(e) => handleSelectType(type.id, e.target.checked)}
                                                    className="rounded border-slate-300"
                                                />
                                            </td>
                                            <td className="px-2 py-3 text-sm font-medium text-slate-800">{type.name}</td>
                                            <td className="px-2 py-3">
                                                <div className="w-6 h-6 rounded" style={{ backgroundColor: type.color }} />
                                            </td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.organization}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.position}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.allowCheckIn}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.overtimeSchedule}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.noLeaveWork}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.noHolidayWork}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.deemedWork}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.deemedWorkHours}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.preCheckIn}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.savedNotes}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.memo}</td>
                                            <td className="px-2 py-3 text-sm text-slate-600">{type.createdAt}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    {/* Add Schedule Type Modal */}
                    <AddScheduleTypeModal
                        isOpen={isModalOpen}
                        onClose={() => {
                            setIsModalOpen(false);
                            setEditData(null);
                        }}
                        onAdd={handleAddScheduleType}
                        editData={editData}
                    />
                </div>
            );
        };

        // Management Settings Component
        const ManagementSettings = () => {
            const toast = useToast();
            const [activeCategory, setActiveCategory] = useState('company');
            const [activeSubMenu, setActiveSubMenu] = useState('organization');

            const categories = [
                {
                    id: 'company',
                    label: '회사 정보',
                    icon: '🏢',
                    subMenus: [
                        { id: 'organization', label: '조직 설정', description: '부서 및 조직도 관리' },
                        { id: 'employees', label: '직원 설정', description: '직원 정보 및 프로필 관리' },
                        { id: 'locations', label: '출퇴근 장소', description: '근무 장소 및 위치 관리' },
                        { id: 'positions', label: '직무', description: '직급 및 직책 관리' },
                        { id: 'workInfo', label: '근로정보', description: '근로 계약 및 조건 관리' },
                    ]
                },
                {
                    id: 'schedule',
                    label: '근무일정',
                    icon: '📅',
                    subMenus: [
                        { id: 'scheduleTypes', label: '근무일정 유형', description: '근무 시간 및 일정 유형 관리' },
                    ]
                },
                {
                    id: 'leave',
                    label: '휴가',
                    icon: '🏖️',
                    subMenus: [
                        { id: 'leaveTypes', label: '휴가 유형', description: '연차, 병가, 경조사 등 휴가 종류' },
                        { id: 'leaveRules', label: '휴가 발생 규칙', description: '휴가 부여 및 소진 규칙' },
                    ]
                },
                {
                    id: 'approvals',
                    label: '요청',
                    icon: '✅',
                    subMenus: [
                        { id: 'approvalRules', label: '승인 규칙', description: '결재선 및 승인 프로세스 설정' },
                    ]
                },
            ];

            const currentCategory = categories.find(c => c.id === activeCategory);
            const currentSubMenu = currentCategory?.subMenus.find(s => s.id === activeSubMenu);

            const getEmptyStateContent = () => {
                const contents = {
                    organization: { icon: '🏛️', title: '조직 설정', description: '부서, 팀, 조직도 구조를 관리합니다.' },
                    employees: { icon: '👥', title: '직원 설정', description: '직원 정보, 프로필, 입/퇴사 관리를 합니다.' },
                    locations: { icon: '📍', title: '출퇴근 장소', description: '근무 장소, GPS 좌표, 위치 기반 출퇴근 설정을 관리합니다.' },
                    positions: { icon: '💼', title: '직무', description: '직급, 직책, 직무 체계를 관리합니다.' },
                    workInfo: { icon: '📋', title: '근로정보', description: '근로 계약, 근무 조건, 급여 정보를 관리합니다.' },
                    scheduleTypes: { icon: '⏰', title: '근무일정 유형', description: '정규 근무, 교대 근무, 탄력 근무 등 다양한 근무 유형을 설정합니다.' },
                    breakTime: { icon: '☕', title: '휴게시간', description: '점심시간, 휴식시간 등 휴게시간 정책을 설정합니다.' },
                    schedulePattern: { icon: '🔄', title: '스케줄 패턴', description: '주간 반복, 월간 반복 등 스케줄 패턴을 관리합니다.' },
                    leaveTypes: { icon: '🏖️', title: '휴가 유형', description: '연차, 병가, 경조사, 공가 등 휴가 종류를 관리합니다.' },
                    leaveRules: { icon: '📜', title: '휴가 발생 규칙', description: '휴가 부여 기준, 이월 규칙, 소진 정책을 설정합니다.' },
                    approvalRules: { icon: '✅', title: '승인 규칙', description: '결재선, 승인 단계, 대결 규칙을 설정합니다.' },
                };

                return contents[activeSubMenu] || { icon: '⚙️', title: '설정', description: '세부 기능이 곧 추가됩니다.' };
            };

            return (
                <div className="p-6">
                    <div className="flex gap-6">
                        {/* Category Sidebar */}
                        <div className="w-64 flex-shrink-0">
                            <div className="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                                <div className="p-4 border-b border-slate-100">
                                    <h3 className="font-semibold text-slate-800">관리 메뉴</h3>
                                </div>
                                <nav className="p-2">
                                    {categories.map((category) => (
                                        <button
                                            key={category.id}
                                            onClick={() => {
                                                setActiveCategory(category.id);
                                                setActiveSubMenu(category.subMenus[0].id);
                                            }}
                                            className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left transition-all mb-1 ${
                                                activeCategory === category.id
                                                    ? 'bg-blue-50 text-blue-600'
                                                    : 'text-slate-600 hover:bg-slate-50'
                                            }`}
                                        >
                                            <span className="text-2xl">{category.icon}</span>
                                            <span className="font-medium">{category.label}</span>
                                        </button>
                                    ))}
                                </nav>
                            </div>
                        </div>

                        {/* Content Area */}
                        <div className="flex-1">
                            {/* Sub-menu Tabs */}
                            <div className="bg-white rounded-2xl shadow-sm border border-slate-100 mb-6">
                                <div className="p-4 border-b border-slate-100">
                                    <h2 className="text-lg font-semibold text-slate-800 flex items-center gap-2">
                                        <span className="text-2xl">{currentCategory?.icon}</span>
                                        {currentCategory?.label}
                                    </h2>
                                </div>
                                {(activeCategory === 'company' || activeCategory === 'schedule' || activeCategory === 'leave') ? (
                                    /* Horizontal Tab Layout */
                                    <div className="border-b border-slate-100">
                                        <div className="flex overflow-x-auto">
                                            {currentCategory?.subMenus.map((subMenu) => (
                                                <button
                                                    key={subMenu.id}
                                                    onClick={() => setActiveSubMenu(subMenu.id)}
                                                    className={`px-6 py-4 text-sm font-medium whitespace-nowrap border-b-2 transition-all ${
                                                        activeSubMenu === subMenu.id
                                                            ? 'text-primary-600 border-primary-600 bg-primary-50/50'
                                                            : 'text-slate-600 border-transparent hover:text-slate-800 hover:bg-slate-50'
                                                    }`}
                                                >
                                                    {subMenu.label}
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                ) : (
                                    /* Grid Layout for Other Categories */
                                    <div className="p-2">
                                        <div className="grid grid-cols-2 md:grid-cols-4 gap-2">
                                            {currentCategory?.subMenus.map((subMenu) => (
                                                <button
                                                    key={subMenu.id}
                                                    onClick={() => setActiveSubMenu(subMenu.id)}
                                                    className={`p-4 rounded-xl text-left transition-all ${
                                                        activeSubMenu === subMenu.id
                                                            ? 'bg-blue-50 border-2 border-blue-200'
                                                            : 'bg-slate-50 border-2 border-transparent hover:border-slate-200'
                                                    }`}
                                                >
                                                    <div className={`font-medium mb-1 ${
                                                        activeSubMenu === subMenu.id ? 'text-blue-600' : 'text-slate-800'
                                                    }`}>
                                                        {subMenu.label}
                                                    </div>
                                                    <div className="text-xs text-slate-500 line-clamp-2">
                                                        {subMenu.description}
                                                    </div>
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                )}
                            </div>

                            {/* Content */}
                            <div className="bg-white rounded-2xl shadow-sm border border-slate-100">
                                {activeSubMenu === 'employees' ? (
                                    <div className="p-6">
                                        <EmployeeSettings />
                                    </div>
                                ) : activeSubMenu === 'organization' ? (
                                    <div className="p-6">
                                        <OrganizationSettings />
                                    </div>
                                ) : activeSubMenu === 'locations' ? (
                                    <div className="p-6">
                                        <LocationSettings />
                                    </div>
                                ) : activeSubMenu === 'positions' ? (
                                    <div className="p-6">
                                        <PositionSettings />
                                    </div>
                                ) : activeSubMenu === 'workInfo' ? (
                                    <div className="p-6">
                                        <WorkInfoSettings />
                                    </div>
                                ) : activeSubMenu === 'scheduleTypes' ? (
                                    <div className="p-6">
                                        <ScheduleTypeSettings />
                                    </div>
                                ) : activeSubMenu === 'leaveTypes' ? (
                                    <div className="p-6">
                                        <LeaveTypeSettings />
                                    </div>
                                ) : activeSubMenu === 'leaveRules' ? (
                                    <div className="p-6">
                                        <LeaveRuleSettings />
                                    </div>
                                ) : activeSubMenu === 'approvalRules' ? (
                                    <div className="p-6">
                                        <ApprovalRuleSettings />
                                    </div>
                                ) : (
                                    <EmptyState {...getEmptyStateContent()} />
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // App Component
        const App = () => {
            return (
                <ToastProvider>
                    <div className="min-h-screen bg-slate-50">
                        <ManagementSettings />
                    </div>
                </ToastProvider>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
</body>
</html>
